/* Mobile panel should scroll (not the page behind it) */
.nav-mobile-panel {
  max-height: calc(100vh - var(--nav-height));
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
  touch-action: pan-y;
}

/* Prevent background scroll when mobile menu is open */
body.nav-scroll-locked {
  overflow: hidden;
  touch-action: none;
}
/* ------------------------------------------- */
/* Mobile Topics accordion                     */
/* ------------------------------------------- */

.nav-mobile-accordion {
  display: block;
}

.nav-mobile-accordion__btn {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 0;
  background: transparent;
  border: 0;
  color: inherit;
  font: 600 16px/1.2 var(--font-inter);
  cursor: pointer;
  text-align: left;
}

.nav-mobile-accordion__chev {
  display: inline-block;
  transition: transform 180ms cubic-bezier(0.2, 0.8, 0.2, 1);
  transform: rotate(0deg);
}

.nav-mobile-accordion__btn.is-open .nav-mobile-accordion__chev {
  transform: rotate(180deg);
}

/* Animated height (max-height) — more reliable than grid fr tracks across browsers */
.nav-mobile-accordion__panel {
  display: block;
  max-height: 0;
  overflow: hidden;
  transition: max-height 260ms cubic-bezier(0.2, 0.8, 0.2, 1);
  will-change: max-height;
}

/* Inner wrapper keeps padding/children in normal flow */
.nav-mobile-accordion__panel-inner {
  overflow: visible;
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding-top: 8px;
}

/* Ensure topic links behave like stacked rows inside the accordion */
.nav-mobile-accordion__panel-inner .nav-mobile-link {
  position: static;
  display: block;
  width: 100%;
  white-space: normal;
}

/* When open (hidden removed), allow enough room for the full list */
.nav-mobile-accordion__panel:not([hidden]) {
  max-height: 1200px;
}

/* Slight indent for nested topic links */
.nav-mobile-link--topic {
  padding-left: 16px;
}

.nav-mobile-link--overview {
  padding-left: 16px;
  opacity: 0.9;
}

@media (prefers-reduced-motion: reduce) {
  .nav-mobile-accordion__panel {
    transition: none;
  }

  .nav-mobile-accordion__chev {
    transition: none;
  }
}
/* Smooth label swap for “Topics · Section” */
.topics-trigger-label {
  display: inline-block;
  transition: opacity 120ms ease;
  will-change: opacity;
}

.topics-trigger-label.is-fading {
  opacity: 0;
}
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import the fonts */
@import "@fontsource/poppins/400.css";
@import "@fontsource/poppins/500.css";
@import "@fontsource/poppins/600.css";
@import "@fontsource/poppins/700.css";
@import "@fontsource/inter/400.css";
@import "@fontsource/inter/500.css";
@import "@fontsource/inter/600.css";
@import "@fontsource/inter/700.css";

@layer base {
  :root {
    /* Spacing scale (4px baseline) */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-7: 28px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;
    --space-14: 56px;
    --space-16: 64px;
    --space-20: 80px;
    --space-24: 96px;
    --space-28: 112px;
    --space-32: 128px;

    /* ----------------------------- */
    /* Color scales from Figma       */
    /* ----------------------------- */

    /* BLUE ------------------------ */
    --blue-1: #e9eaf2;
    --blue-2: #d4d5e5;
    --blue-3: #bebfd8;
    --blue-4: #a9aacb;
    --blue-5: #9395bd;
    --blue-6: #7e80b0;
    --blue-7: #535596;
    --blue-8: #535596; /* duplicate in Figma */
    --blue-9: #3e4089;
    --blue-10-primary: #282b7c;
    --blue-11: #202263;
    --blue-12: #181a4a;
    --blue-13: #101132;
    --blue-14: #080919;
    --blue-15: #04040c;

    /* YELLOW ---------------------- */
    --yellow-1: #fffbf0;
    --yellow-2: #fff6e0;
    --yellow-3: #fff2d1;
    --yellow-4: #ffedc1;
    --yellow-5: #ffe9b2;
    --yellow-6: #ffe5a3;
    --yellow-7: #ffe093;
    --yellow-8: #ffdc84;
    --yellow-9: #ffd774;
    --yellow-10-primary: #ffd365;
    --yellow-11: #cca951;
    --yellow-12: #997f3d;
    --yellow-13: #665428;
    --yellow-14: #332a14;
    --yellow-15: #1a150a;

    /* PURPLE ---------------------- */
    --purple-1: #f9f3fd;
    --purple-2: #f2e7fc;
    --purple-3: #ecdbfa;
    --purple-4: #e6cff8;
    --purple-5: #dfc3f7;
    --purple-6: #d9b6f5;
    --purple-7: #d3aaf3;
    --purple-8: #cd9ef1;
    --purple-9: #c692f0;
    --purple-10-primary: #c086ee;
    --purple-11: #9a6bbe;
    --purple-12: #73508f;
    --purple-13: #4d365f;
    --purple-14: #261b30;
    --purple-15: #130d18;

    /* GREEN ----------------------- */
    --green-1: #e9f8f0;
    --green-2: #d3f0e1;
    --green-3: #bde9d2;
    --green-4: #a7e1c3;
    --green-5: #91dab4;
    --green-6: #7cd3a6;
    --green-7: #66cb97;
    --green-8: #50c488;
    --green-9: #3abc79;
    --green-10-primary: #24b56a;
    --green-11: #1d9155;
    --green-12: #166d40;
    --green-13: #0e482a;
    --green-14: #072415;
    --green-15: #04120b;

    /* WHITE overlays -------------- */
    --white-05: rgba(255, 255, 255, 0.05);
    --white-10: rgba(255, 255, 255, 0.08);
    --white-20: rgba(255, 255, 255, 0.2);
    --white-30: rgba(255, 255, 255, 0.24);
    --white-40: rgba(255, 255, 255, 0.4);
    --white-50: rgba(255, 255, 255, 0.48);
    --white-60: rgba(255, 255, 255, 0.6);
    --white-70: rgba(255, 255, 255, 0.8);
    --white-80: rgba(255, 255, 255, 0.92);
    --white-90: #ffffff;

    /* GREY neutrals ---------------- */
    --grey-05: #f9fafa;
    --grey-10: #f4f5f6;
    --grey-20: #e9ebec;
    --grey-30: #d9dbdd;
    --grey-40: #b5b8ba;
    --grey-50: #95999d;
    --grey-60: #737a82;
    --grey-70: #565c61;
    --grey-80: #323334;
    --grey-90: #000000;

    /* ----------------------------- */
    /* Semantic brand tokens         */
    /* ----------------------------- */

    --brand-primary: var(--blue-10-primary); /* NTREG navy */
    --brand-highlight: var(
      --yellow-10-primary
    ); /* gold highlight (matches your old var) */
    --brand-accent: var(--purple-10-primary); /* secondary accent */
    --brand-success: var(--green-10-primary); /* positive / success */
    --brand-surface: var(--blue-1); /* light cards/backgrounds */
    --brand-surface-alt: var(--grey-05);
    --brand-text-main: var(--grey-90);
    --brand-text-inverse: var(--white-90);

    /* ----------------------------- */
    /* Fonts (your existing setup)   */
    /* ----------------------------- */

    --font-inter: "Inter", sans-serif;
    --font-poppins: "Poppins", sans-serif;

    /* Layout tokens */
    --nav-height: 120px;
  }

  html {
    /* Instant in-page navigation (accessibility-friendly; avoids motion). */
    scroll-behavior: auto;
  }

  body {
    font-family: var(--font-inter);
  }

  h1,
  h2 {
    font-family: var(--font-poppins);
    font-weight: 500;
    font-synthesis: none;
  }
}

@layer utilities {
  /* Anchor offset for fixed nav */
  /*
    1) `scroll-padding-top` ensures any native/JS smooth scroll stops below the sticky nav.
    2) `:target` + `[data-anchor]` ensure in-page anchor jumps never get covered.
  */
  html {
    /* Ensure in-page scrolling (hash links / scrollIntoView) never lands under the sticky nav */
    --nav-offset: calc(var(--nav-height) + 40px);
    scroll-padding-top: var(--nav-offset);
  }

  [data-anchor],
  :target {
    scroll-margin-top: var(--nav-offset);
  }

  /* Fixed header clearance helper
     Use when you want content to never scroll under the fixed nav. */
  .nav-clearance {
    padding-top: var(--nav-offset);
  }
  /*
    Fixed/sticky nav *anchor* offset helper

    ✅ Use for in-page anchor targets (hash links / scrollIntoView) when you
       need the browser to land below the fixed nav without changing layout.

    ⚠️ Do NOT use this as a general wrapper around normal content. The
       negative margin intentionally pulls the section up, which will cause
       the top of the content to sit underneath the fixed header.

    For normal page flow clearance under the fixed nav, use `.nav-clearance`.
  */
  .nav-offset-anchor {
    padding-top: var(--nav-offset);
    margin-top: calc(var(--nav-offset) * -1);
  }

  /* Optional: make sure headings inside also respect the offset */
  .nav-offset-anchor h1,
  .nav-offset-anchor h2,
  .nav-offset-anchor h3,
  .nav-offset-anchor h4,
  .nav-offset-anchor [id] {
    scroll-margin-top: var(--nav-offset);
  }

  /* Screen-reader only (for accessible labels) */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* ------------------------------------------- */
  /* Section reveal (subtle entrance)            */
  /* ------------------------------------------- */

  /* Only apply the hidden state when JS is enabled */
  .js [data-reveal] {
    opacity: 0;
    transform: translateY(14px);
    transition: opacity 260ms ease,
      transform 260ms cubic-bezier(0.2, 0.8, 0.2, 1);
    will-change: opacity, transform;
  }

  .js [data-reveal].is-revealed {
    opacity: 1;
    transform: translateY(0);
  }

  @media (prefers-reduced-motion: reduce) {
    .js [data-reveal] {
      opacity: 1;
      transform: none;
      transition: none;
    }
  }

  /* Padding utilities */
  .pt-section {
    padding-top: var(--space-20);
  }
  .pb-section {
    padding-bottom: var(--space-20);
  }
  .py-section {
    padding-top: var(--space-20);
    padding-bottom: var(--space-20);
  }

  /* Horizontal padding helpers */
  .px-section {
    padding-left: var(--space-8);
    padding-right: var(--space-8);
  }

  /* Gap utilities */
  .gap-sm {
    gap: var(--space-4);
  }
  .gap-md {
    gap: var(--space-8);
  }
  .gap-lg {
    gap: var(--space-12);
  }
  .gap-xl {
    gap: var(--space-20);
  }

  /* Vertical spacing above a block */
  .space-block-sm {
    margin-top: var(--space-8);
  }
  .space-block-md {
    margin-top: var(--space-12);
  }
  .space-block-lg {
    margin-top: var(--space-20);
  }
  .space-block-xl {
    margin-top: var(--space-32);
  }

  /* ------------------------------------------- */
  /* Brand color utilities                       */
  /* ------------------------------------------- */

  .bg-brand-primary {
    background-color: var(--brand-primary);
  }

  .bg-brand-highlight {
    background-color: var(--brand-highlight);
  }

  .bg-brand-surface {
    background-color: var(--brand-surface);
  }

  .bg-brand-surface-alt {
    background-color: var(--brand-surface-alt);
  }

  .text-brand-primary {
    color: var(--brand-primary);
  }

  .text-brand-highlight {
    color: var(--brand-highlight);
  }

  .text-brand-on-dark {
    color: var(--brand-text-inverse);
  }

  .text-brand-on-light {
    color: var(--brand-text-main);
  }

  .border-brand-primary {
    border-color: var(--brand-primary);
  }

  .border-brand-highlight {
    border-color: var(--brand-highlight);
  }

  .text-green-13 {
    color: var(--green-13);
  }

  /* ------------------------------------------- */
  /* Typography Tokens                           */
  /* ------------------------------------------- */

  /* Headings (Poppins) ------------------------ */

  .text-h1 {
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 2.5rem; /* mobile ~40px */
    line-height: 1.1;
  }

  .text-h2 {
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 2rem; /* mobile ~32px */
    line-height: 1.2;
  }

  .text-h3 {
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 1.5rem; /* mobile ~24px */
    line-height: 1.25;
  }

  /* Beware headline (Poppins 48px, regular) */
  .text-h2-regular {
    font-family: var(--font-poppins);
    font-weight: 400;
    letter-spacing: -0.01em;
    font-size: 3rem; /* 48px */
    line-height: 1.2;
  }

  @media (min-width: 1024px) {
    .text-h1 {
      font-size: 6rem; /* 96px */
      line-height: 1.1;
    }

    .text-h2 {
      font-size: 3rem; /* 48px */
      line-height: 1.2;
    }

    .text-h3 {
      font-size: 2rem; /* 32px */
      line-height: 1.25;
    }
  }

  /* Body (Inter) ------------------------------ */

  .text-body-lg {
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 1.5rem; /* 24px on mobile */
    line-height: 1.5;
  }

  @media (min-width: 1024px) {
    .text-body-lg {
      font-size: 2rem; /* 32px */
    }
  }

  .text-body-md {
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 1.125rem; /* 18px mobile */
    line-height: 1.5;
  }

  @media (min-width: 1024px) {
    .text-body-md {
      font-size: 1.5rem; /* 24px */
    }
  }

  .text-body-md-strong {
    font-family: var(--font-inter);
    font-weight: 600; /* SemiBold */
    font-size: 1.125rem;
    line-height: 1.5;
  }

  @media (min-width: 1024px) {
    .text-body-md-strong {
      font-size: 1.5rem;
    }
  }

  .text-body-sm {
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 1rem; /* 16px */
    line-height: 1.5;
  }

  .text-body-sm-strong {
    font-family: var(--font-inter);
    font-weight: 500; /* Medium */
    font-size: 1rem;
    line-height: 1.5;
  }

  .text-body-xs {
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 0.875rem; /* 14px */
    line-height: 1.4;
  }

  .text-body-xs-strong {
    font-family: var(--font-inter);
    font-weight: 600; /* SemiBold */
    font-size: 0.875rem;
    line-height: 1.4;
  }

  /* Microcopy --------------------------------- */

  .text-fine {
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 0.75rem; /* 12px */
    line-height: 1.4;
  }

  .text-fine-strong {
    font-family: var(--font-inter);
    font-weight: 700; /* Bold */
    font-size: 0.75rem;
    line-height: 1.4;
  }

  /* Buttons ----------------------------------- */

  .text-button-primary {
    font-family: var(--font-inter);
    font-weight: 600; /* SemiBold */
    font-size: 1rem; /* 16px */
    line-height: 1.5;
  }

  .text-button-secondary {
    font-family: var(--font-inter);
    font-weight: 700; /* Bold */
    font-size: 1rem;
    line-height: 1.5;
  }

  /* ------------------------------------------- */
  /* 12-col page grid (Tailwind-safe for v4)     */
  /* ------------------------------------------- */

  .page-grid {
    display: grid;
    width: 100%;
    box-sizing: border-box;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    column-gap: 32px;
    padding-inline: clamp(24px, 6vw, 280px);
  }

  @media (min-width: 1024px) {
    .page-grid {
      padding-inline: 108px;
    }
    /* Force 6-col span on desktop for anything using `lg:col-span-6` */
    .lg\:col-span-6 {
      grid-column: span 6 / span 6;
    }
  }

  /* ----------------------------------------
   Generic two-column layout: 6 / 6 on desktop,
   stacked (full-width) on tablet & mobile
   ---------------------------------------- */

  .layout-two-6-6__primary,
  .layout-two-6-6__secondary {
    /* mobile / tablet: each takes full width */
    grid-column: 1 / -1;
  }

  @media (min-width: 1024px) {
    .layout-two-6-6__primary {
      /* left column: 6 of 12 */
      grid-column: 1 / span 6;
    }

    .layout-two-6-6__secondary {
      /* right column: 6 of 12 */
      grid-column: 7 / span 6;
    }
  }

  /* ------------------------------------------- */
  /* ------------------------------------------- */
  /* CONTENT SPECIFIC STYLES -------------------------- */
  /* ------------------------------------------- */
  /* ------------------------------------------- */

  /* ------------------------------------------- */
  /* Hero                 */
  /* ------------------------------------------- */

  .hero-section__inner {
    position: relative;
    z-index: 10;
    display: flex;
    min-height: 92vh;
    align-items: flex-end; /* anchor content to bottom of hero */
  }

  .hero-type {
    letter-spacing: -0.01em;
  }

  .hero-white {
    color: #fff !important;
  }

  .text-brand-highlight {
    color: var(--brand-highlight) !important;
  }

  .hero-subcopy {
    color: #ffffff !important;
    font: 500 16px/24px var(--font-inter);
    max-width: 432px;
  }

  /* ------------------------------------------- */
  /* “Continue Learning ↓” link                   */
  /* ------------------------------------------- */

  .hero-scroll {
    font: 600 16px/24px var(--font-inter);
    color: #fff;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    white-space: nowrap;
    text-decoration: none;
  }

  .hero-scroll:visited {
    color: #fff;
  }
  .hero-scroll:hover {
    opacity: 0.9;
  }

  .hero-scroll:focus-visible {
    outline: 2px solid rgb(255 255 255 / 0.5);
    outline-offset: 2px;
    border-radius: 4px;
  }

  .hero-scroll__icon {
    display: inline-block;
    font-size: 16px;
    line-height: 24px;
    transform: translateY(2px);
    animation: arrow-bob 2.4s infinite both;
    animation-delay: 0.7s;
    will-change: transform;
  }

  @media (prefers-reduced-motion: reduce) {
    .hero-scroll__icon {
      animation: none;
    }
  }

  @keyframes arrow-bob {
    0% {
      transform: translateY(0);
      animation-timing-function: cubic-bezier(0, 0, 0.58, 1);
    }
    45% {
      transform: translateY(8px);
      animation-timing-function: cubic-bezier(0.2, 0.8, 0.2, 1);
    }
    100% {
      transform: translateY(0);
    }
  }

  /* ------------------------------------------- */
  /* Responsive Type Scaling                     */
  /* ------------------------------------------- */

  @media (min-width: 1024px) {
    .hero-type {
      font-size: 96px;
      line-height: 40px;
    }
    .hero-subcopy {
      max-width: 100%;
    }
  }

  @media (min-width: 768px) and (max-width: 1023.98px) {
    .hero-type {
      font-size: 64px;
      line-height: 24px;
    }
  }

  @media (max-width: 767.98px) {
    .hero-type {
      font-size: 40px;
      line-height: 16px;
    }
  }

  /* ------------------------------------------- */
  /* Navigation                                  */
  /* ------------------------------------------- */

  /* ------------------------------------------- */
  /* Topics dropdown (desktop hover)              */
  /* ------------------------------------------- */

  .topics-wrapper {
    position: relative;
  }

  .topics-dropdown {
    position: absolute;
    top: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%) translateY(6px) scale(0.98);

    min-width: 220px;
    padding: 8px 0;

    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 12px 28px rgba(15, 23, 42, 0.18);

    opacity: 0;
    visibility: hidden;
    pointer-events: none;

    transition: opacity 150ms ease,
      transform 150ms cubic-bezier(0.2, 0.8, 0.2, 1);
    z-index: 30;
  }

  /* Hover bridge so the menu doesn't close when moving the mouse down */
  .topics-dropdown::before {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    top: -12px;
    height: 12px;
  }

  /* Keep open for keyboard users too */
  .topics-wrapper:focus-within .topics-dropdown,
  .topics-wrapper.is-open .topics-dropdown {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateX(-50%) translateY(0) scale(1);
  }

  /* Show dropdown on hover (desktop) */
  .topics-wrapper:hover .topics-dropdown,
  .topics-wrapper.is-open .topics-dropdown {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateX(-50%) translateY(0) scale(1);
  }

  /* Accessible focus rings */
  .nav-link:focus-visible,
  .nav-cta:focus-visible,
  .nav-menu-btn:focus-visible,
  .topics-trigger:focus-visible,
  .topics-item:focus-visible,
  .nav-mobile-link:focus-visible,
  .nav-mobile-cta:focus-visible,
  .nav-mobile-accordion__btn:focus-visible {
    outline: 2px solid rgb(255 255 255 / 0.65);
    outline-offset: 3px;
    border-radius: 8px;
  }

  .nav-shell--solid .nav-link:focus-visible,
  .nav-shell--solid .nav-cta:focus-visible,
  .nav-shell--solid .nav-menu-btn:focus-visible,
  .nav-shell--solid .topics-trigger:focus-visible,
  .nav-shell--solid .topics-item:focus-visible {
    outline-color: rgb(40 43 124 / 0.55);
  }

  /* Force-close dropdown (used when a topic is clicked) */
  .topics-wrapper.is-force-closed .topics-dropdown {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
  }

  /* Individual topic links */
  .topics-item {
    display: block;
    position: relative;
    padding: 10px 16px;
    font: 500 14px/1.4 var(--font-inter);
    color: var(--brand-primary);
    text-decoration: none;
    white-space: nowrap;
    transition: background-color 160ms ease, color 160ms ease;
  }

  .topics-item:hover {
    background-color: var(--grey-05);
  }

  /* Animated underline for hover/active */
  .topics-item::after {
    content: "";
    position: absolute;
    left: 16px;
    right: 16px;
    bottom: 6px;
    height: 2px;
    background: currentColor;
    opacity: 0.25;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 180ms ease;
  }

  /* Only show underline on hover, not persistent active */
  .topics-item:hover::after {
    transform: scaleX(1);
  }

  .topics-item.is-active {
    background-color: var(--grey-10);
    font-weight: 600;
  }

  /* Active indicator (subtle dot on the left) */
  .topics-item.is-active::before {
    content: "";
    position: absolute;
    left: 10px;
    top: 50%;
    width: 6px;
    height: 6px;
    border-radius: 9999px;
    background: currentColor;
    opacity: 0.65;
    transform: translateY(-50%);
  }

  .nav-mobile-link--topic.is-active {
    font-weight: 600;
    text-decoration: none;
  }

  .nav-mobile-link--topic.is-active::before {
    content: "•";
    margin-right: 8px;
  }

  .nav-shell {
    width: 100%;
    position: relative;
    /* gradient behind the nav */
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0.7),
      rgba(0, 0, 0, 0.4),
      transparent
    );
    background-color: transparent;
    /* smooth transition from gradient -> white sticky */
    transition: background-color 200ms ease, box-shadow 200ms ease;
    will-change: background-color, box-shadow;
  }

  .nav-viewport {
    /* Full-viewport row that still respects the site gutters */
    width: 100vw;
    margin-inline: auto;
    padding-inline: clamp(24px, 6vw, 280px);
    box-sizing: border-box;
  }

  @media (min-width: 1024px) {
    .nav-viewport {
      padding-inline: 108px;
    }
  }

  .nav-bar {
    /* 3-zone layout: left | centered (viewport) | right */
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;

    width: 100%;
    padding-block: 20px;
    min-height: 80px;

    /* allow the left/right zones to shrink without overflowing */
    min-width: 0;
  }

  .nav-center {
    justify-self: center;
    display: flex;
    align-items: center;
    gap: clamp(12px, 2.5vw, var(--space-4));
    font: 500 clamp(13px, 1.1vw, 16px) / 1 var(--font-inter);
    color: #ffffff;
    white-space: nowrap;
  }

  .nav-right {
    justify-self: end;
    display: flex;
    align-items: center;
    gap: clamp(12px, 2.5vw, var(--space-6));
    white-space: nowrap;
  }
  .nav-shell--solid {
    background: #ffffff;
    background-image: none;
    box-shadow: 0 2px 6px rgba(15, 23, 42, 0.1);
  }

  .nav-shell--solid .nav-link {
    color: var(--brand-primary);
  }

  .nav-shell--solid .nav-link--topic::after {
    color: var(--brand-primary);
  }

  .nav-shell--solid .nav-cta {
    background-color: var(--brand-primary);
    color: #ffffff;
  }

  .nav-link {
    font: 500 clamp(13px, 1.1vw, 16px) / 1 var(--font-inter);
    color: #ffffff;
    text-decoration: none;
  }

  .nav-link:hover {
    opacity: 0.9;
  }

  .nav-link--topic {
    display: inline-flex;
    align-items: center;
    gap: 4px;
  }

  /* Caret animation for Topics trigger */
  .topics-caret {
    display: inline-block;
    transition: transform 150ms ease;
    transform: rotate(0deg);
  }

  .topics-wrapper:hover .topics-caret,
  .topics-wrapper:focus-within .topics-caret,
  .topics-wrapper.is-open .topics-caret {
    transform: rotate(180deg);
  }

  .nav-link--page-title {
    font-weight: 600; /* make page title a bit stronger */
  }

  .nav-cta {
    font: 600 14px/1 var(--font-inter);
    padding: 10px 24px;
    border-radius: 9999px;
    background-color: #ffffff;
    color: #111827;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
  }

  .nav-cta:hover {
    background-color: rgb(249 250 251);
  }

  /* Nav Logo ------------------------------------------------ */

  .nav-logo-wrapper {
    width: clamp(56px, 6vw, 80px);
    height: clamp(56px, 6vw, 80px);
    flex: 0 0 auto;
  }

  @media (min-width: 768px) {
    .nav-logo-wrapper {
      width: 80px;
      height: 80px;
    }
  }

  .nav-logo-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
  }

  /* ------------------------------------------- */
  /* Typography tokens (H2 used here)           */
  /* ------------------------------------------- */

  .text-h2 {
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 32px;
    line-height: 1.2;
  }

  @media (min-width: 768px) {
    .text-h2 {
      font-size: 40px;
    }
  }

  @media (min-width: 1024px) {
    .text-h2 {
      font-size: 48px;
    }
  }

  /* ------------------------------------------- */
  /* Introduction section                        */
  /* ------------------------------------------- */

  .intro-grid {
    /* page-grid already sets display: grid */
    grid-template-columns: 1fr; /* 1 column on mobile + tablet + small desktop */
    row-gap: var(--space-20);
    margin-top: var(--space-12);
  }

  /* Only go 2-up once there is enough horizontal room */
  @media (min-width: 1200px) {
    .intro-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
      column-gap: var(--space-10);
    }
  }

  .intro-card {
    display: grid;
    align-items: start;

    /* Allow the content column to shrink + wrap (prevents overlap at mid-wide viewports) */
    grid-template-columns: minmax(160px, 240px) minmax(0, 1fr);
    column-gap: clamp(16px, 2vw, var(--space-6));
    min-width: 0;
  }

  /* Critical for CSS grid: let text column actually shrink instead of overflowing */
  .intro-card__body,
  .intro-card__quote,
  .intro-card__meta {
    min-width: 0;
  }

  /* Ensure long words/URLs never force overlap */
  .intro-card__quote {
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  /* Media column: lock the media to a sane crop so it doesn't stretch with long text */
  .intro-card__media {
    margin: 0;
    width: 100%;
    overflow: hidden;
    border-radius: 0;

    /* Desktop crop */
    aspect-ratio: 3 / 4;
    background: var(--grey-10);
  }

  .intro-card__media img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  /* Tablet (wide): keep image + copy side-by-side so portraits don't become full-bleed */
  @media (min-width: 900px) and (max-width: 1023.98px) {
    .intro-card {
      grid-template-columns: minmax(200px, 280px) minmax(0, 1fr);
      column-gap: clamp(16px, 2vw, var(--space-6));
      row-gap: 0;
      align-items: start;
    }

    .intro-card__media {
      aspect-ratio: 3 / 4;
      max-height: 360px;
    }
  }

  /* Tablet (narrow) + mobile: stack image above content for better readability */
  @media (max-width: 620px) {
    .intro-card {
      grid-template-columns: minmax(0, 1fr);
      row-gap: var(--space-6);
    }

    .intro-card__media {
      /* Constrain portraits so they don't become full-width landscape on small screens */
      width: min(420px, 100%);
      margin-inline: auto;
      aspect-ratio: 4 / 5;
      max-height: 420px;
    }
  }

  /* Improve readability: prevent extremely long line-lengths inside the quote */
  .intro-card__quote {
    max-width: 60ch;
  }

  .intro-card__body {
    background-color: var(--grey-05); /* Grey/05 card */
    padding: var(--space-6);
    display: flex;
    flex-direction: column;
    row-gap: var(--space-4);
  }

  @media (max-width: 767.98px) {
    .intro-card__body {
      padding: var(--space-6);
    }
  }

  .intro-card__quote {
    margin: 0;
  }

  .intro-card__name {
    margin-top: var(--space-6);
  }

  .intro-card__meta {
    margin-top: var(--space-1);
  }

  .intro-card__button {
    margin-top: var(--space-8);
    align-self: flex-start;
    padding: var(--space-4) var(--space-6);
    background-color: var(--grey-20);
    color: var(--brand-primary);
    border: none;
    cursor: pointer;
  }

  .intro-card__button:hover {
    background-color: var(--grey-30);
  }

  .intro-card__button:focus-visible {
    outline: 2px solid var(--brand-primary);
    outline-offset: 3px;
  }

  /* Neutral text colors */
  .text-grey-70 {
    color: var(--grey-70);
  }

  .text-grey-80 {
    color: var(--grey-80);
  }

  .intro-divider {
    width: 100%;
    height: 1px;
    background-color: var(--grey-20);
    margin-bottom: var(--space-12); /* spacing before the cards */
  }

  /* ------------------------------------------- */
  /* Introduction modal                          */
  /* ------------------------------------------- */

  /* Lock page scroll when a modal is open */
  body.modal-open {
    overflow: hidden;
    touch-action: none;
  }

  /* Backdrop is the fixed overlay (must cover the whole viewport) */
  .intro-modal-backdrop {
    position: fixed;
    inset: 0;
    z-index: 100;

    display: flex;
    justify-content: center;
    align-items: center;

    padding: 24px 16px;
    background-color: rgba(0, 0, 0, 0.55);

    /* Keep the page from scrolling; the dialog content will scroll instead */
    overflow: hidden;
    -webkit-overflow-scrolling: touch;
  }

  /* Ensure native `hidden` always wins (our backdrop uses display:flex) */
  .intro-modal-backdrop[hidden] {
    display: none !important;
  }

  .intro-modal[hidden] {
    display: none !important;
  }

  /* Dialog shell */
  .intro-modal {
    position: relative;
    width: min(960px, 100%);
    max-height: calc(100vh - 48px); /* accounts for backdrop padding */

    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 18px 48px rgba(15, 23, 42, 0.28);

    overflow: hidden; /* clip inner scroll + keep corners clean */
  }

  /* Inner layout: image left, content right */
  .intro-modal__content {
    position: relative;
    display: grid;
    grid-template-columns: minmax(240px, 340px) minmax(0, 1fr);
    column-gap: 40px;
    padding: 32px;

    /* Scroll happens here */
    max-height: calc(100vh - 48px);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Mobile: stack and adjust modal sizing so it never gets cut off */
  @media (max-width: 767.98px) {
    .intro-modal-backdrop {
      padding: 16px;
      align-items: flex-start; /* lets content start near top on small screens */
    }

    .intro-modal {
      border-radius: 10px;
      width: 100%;
      max-height: calc(100vh - 32px);
    }

    .intro-modal__content {
      grid-template-columns: minmax(0, 1fr);
      row-gap: 20px;
      padding: 20px;
      max-height: calc(100vh - 32px);
    }
  }

  /* Media block (portrait-friendly crop) */
  .intro-modal__media {
    margin: 0;
    width: 100%;
    border-radius: 10px;
    overflow: hidden;
    background: var(--grey-10);
    align-self: start;
    aspect-ratio: 3 / 4;
    max-height: 520px;
  }

  .intro-modal__media img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  /* Text */
  .intro-modal__body {
    margin-top: 20px;
  }

  .intro-modal__name {
    margin: 0;
    font-family: var(--font-poppins);
    font-weight: 500;
    font-size: 28px;
    line-height: 1.15;
    color: #111827;
  }

  .intro-modal__title {
    margin: 10px 0 0;
  }

  /* Rich text spacing */
  .intro-modal__richtext > :first-child {
    margin-top: 0;
  }

  .intro-modal__richtext p {
    margin: 0 0 16px;
  }

  /* Close button (top-right) */
  .intro-modal__close {
    position: absolute;
    top: 14px;
    right: 14px;
    width: 44px;
    height: 44px;
    border-radius: 8px;
    border: none;
    background-color: var(--brand-primary);
    color: #ffffff;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 22px;
    line-height: 1;
    z-index: 2;
    flex: 0 0 auto;
  }

  .intro-modal__close:hover {
    opacity: 0.95;
  }

  .intro-modal__close:focus-visible {
    outline: 2px solid #ffffff;
    outline-offset: 2px;
  }

  /* ------------------------------------------- */
  /* Partner logo section                        */
  /* ------------------------------------------- */

  .partner-logo-section__header {
    text-align: center;
  }

  .partner-logo-section__headline {
    /* Already using text-body-sm-strong + text-brand-primary */
    margin: 0;
  }

  /*
    Responsive logo wall:
    - Mobile: stacked/centered with comfortable spacing
    - Tablet: wrap into 2–3 columns naturally
    - Desktop: single row (when possible) with larger logos (~200px wide)
  */
  .partner-logos {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: clamp(var(--space-8), 5vw, var(--space-16));
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .partner-logos__item {
    display: flex;
    align-items: center;
    justify-content: center;

    /* Give each logo a flexible “slot” so wrapping looks intentional */
    flex: 0 1 clamp(200px, 22vw, 280px);
  }

  .partner-logos__link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 100%;

    /* A little padding so logos don’t feel cramped */
    padding: clamp(8px, 1.5vw, 16px);
    border-radius: 10px;
  }

  .partner-logos__link:focus-visible {
    outline: 2px solid rgb(40 43 124 / 0.55);
    outline-offset: 3px;
  }

  .partner-logos__image {
    /* Let the logo keep its natural aspect ratio */
    display: block;
    width: min(100%, 240px);
    height: auto;
    object-fit: contain;
  }

  /* Desktop: encourage a clean single-row layout and slightly larger logos */
  @media (min-width: 1024px) {
    .partner-logos {
      flex-wrap: nowrap;
      justify-content: space-between;
      gap: var(--space-20);
    }

    .partner-logos__item {
      flex: 1 1 0;
      max-width: 320px;
    }

    .partner-logos__image {
      width: min(100%, 280px);
    }
  }

  /* ------------------------------------------- */
  /* Benefits carousel section                   */
  /* ------------------------------------------- */

  .benefits-carousel-section {
    color: var(--white-90);
  }

  .benefits-carousel__header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: var(--space-8); /* 32px between text and arrows on desktop/tablet */
  }

  .benefits-carousel__header-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    column-gap: var(--space-8); /* 32px between headline and body */
    row-gap: 0;
    max-width: 960px;
  }

  /* Mobile: stack headline & body */
  @media (max-width: 767.98px) {
    .benefits-carousel__header {
      flex-direction: column;
      align-items: flex-start;
    }

    .benefits-carousel__header-grid {
      grid-template-columns: minmax(0, 1fr);
      row-gap: var(--space-8); /* 32px between headline and body */
    }
  }

  .benefits-carousel__headline {
    margin: 0;
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 1.5rem; /* text-h3 size on mobile/tablet */
    line-height: 1.25;
  }

  @media (min-width: 1024px) {
    /* Desktop: match text-h2 scale */
    .benefits-carousel__headline {
      font-size: 3rem; /* 48px */
      line-height: 1.2;
    }
  }

  .benefits-carousel__body {
    /* text-body-sm on mobile/tablet */
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 1rem;
    line-height: 1.5;

    /* Force white text even if Storyblok inserts inline color styles */
    color: var(--white-90) !important;
  }

  /* Storyblok rich text can output nested tags and inline styles (e.g. <span style="color:#000">) */
  .benefits-carousel__body * {
    color: inherit !important;
  }

  /* Ensure links also stay white */
  .benefits-carousel__body a,
  .benefits-carousel__body a:link,
  .benefits-carousel__body a:visited,
  .benefits-carousel__body a:hover,
  .benefits-carousel__body a:active,
  .benefits-carousel__body a:focus {
    color: inherit !important;
    text-decoration: underline;
    text-decoration-color: currentColor;
    text-underline-offset: 2px;
  }

  @media (min-width: 1024px) {
    /* text-body-md on desktop */
    .benefits-carousel__body {
      font-size: 1.125rem; /* 18px */
    }
  }

  /* Carousel nav buttons */
  .benefits-carousel__nav-group {
    display: inline-flex;
    gap: var(--space-4);
    align-items: center;
  }

  .benefits-carousel__nav {
    width: 48px;
    height: 48px;
    border-radius: 0;
    border: none;
    padding: 0;
    background-color: var(--blue-12);
    color: var(--white-90);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.25rem;
  }

  .benefits-carousel__nav:hover {
    opacity: 0.9;
  }

  .benefits-carousel__nav:focus-visible {
    outline: 2px solid var(--white-80);
    outline-offset: 2px;
  }

  /* Hide nav buttons on mobile */
  @media (max-width: 767.98px) {
    .benefits-carousel__nav-group {
      display: none;
    }
  }

  /* Carousel track + cards */
  .benefits-carousel__viewport {
    overflow-x: auto;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    padding-bottom: var(--space-4); /* breathing room for scrollbar */
  }

  /* --- Benefits carousel full-bleed (slides past page gutters) --- */
  .benefits-carousel--bleed .benefits-carousel__viewport {
    width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);

    /* Keep the first card aligned with the page-grid content */
    padding-left: clamp(24px, 6vw, 280px);
    padding-right: clamp(24px, 6vw, 280px);
    box-sizing: border-box;
  }

  @media (min-width: 1024px) {
    .benefits-carousel--bleed .benefits-carousel__viewport {
      padding-left: 108px;
      padding-right: 108px;
    }
  }

  .benefits-carousel__track {
    display: flex;
    gap: var(--space-8); /* 32px between cards */
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .benefits-card {
    background-color: var(--blue-12);
    color: var(--white-90);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: var(--space-8);
    box-sizing: border-box;
    flex-shrink: 0;
    width: 230px;
    height: 292px;
  }

  @media (min-width: 1024px) {
    .benefits-card {
      width: 282px;
      height: 424px;
    }
  }

  .benefits-card__body {
    flex: 1;
    display: flex;
  }

  .benefits-card__copy {
    margin: 0;
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 1rem; /* text-body-sm baseline */
    line-height: 1.5;
  }

  @media (min-width: 1024px) {
    .benefits-card__copy {
      font-size: 1.125rem; /* text-body-md on desktop */
    }
  }

  .benefits-card__image-wrap {
    margin-top: var(--space-6);
    height: 96px;
    overflow: hidden;
    position: relative;
  }

  @media (min-width: 1024px) {
    .benefits-card__image-wrap {
      height: 128px;
    }
  }

  .benefits-card__image {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: auto;
    display: block;
  }

  /* Source text */
  .benefits-carousel__source {
    margin-top: 0;
  }

  /* Source text (force white-50 for Storyblok rich text + links) */
  .benefits-carousel__source-text {
    color: var(--white-50) !important;
  }

  /* Storyblok rich text can output nested tags; force everything to inherit */
  .benefits-carousel__source-text * {
    color: inherit !important;
  }

  /* Links should also be white-50 (including visited states) */
  .benefits-carousel__source-text a,
  .benefits-carousel__source-text a:link,
  .benefits-carousel__source-text a:visited,
  .benefits-carousel__source-text a:hover,
  .benefits-carousel__source-text a:active,
  .benefits-carousel__source-text a:focus {
    color: inherit !important;
    text-decoration: underline;
    text-decoration-color: currentColor;
    text-underline-offset: 2px;
  }

  .benefits-carousel__source-text a:hover {
    opacity: 0.9;
  }

  .benefits-carousel__source-text a:focus-visible {
    outline: 2px solid rgb(255 255 255 / 0.55);
    outline-offset: 2px;
    border-radius: 6px;
  }

  /* ------------------------------------------- */
  /* Solar Questions: sticky categories offset   */
  /* ------------------------------------------- */

  /*
    The categories column is `position: sticky` so it stays visible while
    scrolling questions. Because the main nav is `position: fixed`, the sticky
    element MUST be offset by the nav height, otherwise it will slide underneath.

    NOTE: There is (or was) a competing rule setting `top: 0;` which causes the
    categories strip to hide behind the fixed header. We force the correct offset
    here.
  */
  .question-section__categories {
    position: sticky;
    top: var(--nav-offset) !important;
    align-self: start;

    /* Ensure it paints above the section content, but below the global nav */
    z-index: 5;

    /* Keep the sticky panel usable on shorter viewports */
    max-height: calc(100vh - var(--nav-offset) - var(--space-6));
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* ------------------------------------------- */
  /* Tab section                                 */
  /* ------------------------------------------- */

  .tab-section {
    /* "text-brand-on-dark" is a text token, but Figma shows a light background */
    background-color: var(--white-90);
  }

  /* Intro layout: headline + two bodies */

  .tab-section__intro {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .tab-section__headline {
    margin: 0;
    /* Base size ≈ text-h3 (tablet/mobile) */
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 1.5rem;
    line-height: 1.25;
  }

  @media (min-width: 1024px) {
    /* Desktop ≈ text-h2 */
    .tab-section__headline {
      font-size: 3rem; /* 48px */
      line-height: 1.2;
    }
  }

  .tab-section__intro-bodies {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    column-gap: var(--space-8); /* 32px on desktop */
    row-gap: 0;
  }

  /* Tablet + mobile: stack with 16px gap, right under left */

  @media (max-width: 1023.98px) {
    .tab-section__intro-bodies {
      grid-template-columns: minmax(0, 1fr);
      row-gap: var(--space-4); /* 16px */
    }
  }

  .tab-section__body-left,
  .tab-section__body-right {
    margin: 0;
  }

  /* Tabs row */

  .tab-section__tabs {
    margin-top: var(--space-8); /* 32px below intro */
  }

  .tab-section__tab-list {
    display: flex;
    gap: var(--space-6);
    border-bottom: 1px solid var(--grey-30);
    padding-bottom: 2px;
    white-space: nowrap;
    overflow: visible;
  }

  /* Mobile/tablet: use a dropdown instead of a horizontally scrolling tab row */
  .tab-section__select-wrap {
    display: none;
    width: 100%;
    margin-top: var(--space-4);
  }

  .tab-section__select {
    width: 100%;
    padding: 14px 14px;
    border: 1px solid var(--grey-30);
    background: #ffffff;
    color: var(--brand-text-main);
    border-radius: 10px;
    font: 600 16px/1.2 var(--font-inter);
  }

  .tab-section__select:focus-visible {
    outline: 2px solid rgb(40 43 124 / 0.55);
    outline-offset: 2px;
  }

  /* Below desktop: hide the tablist and show the select */
  @media (max-width: 1023.98px) {
    .tab-section__tab-list {
      display: none;
    }

    .tab-section__select-wrap {
      display: block;
    }
  }

  .tab-section__tab {
    background: transparent;
    border: none;
    border-bottom: 2px solid transparent;
    cursor: pointer;
    white-space: nowrap;
    padding-inline: 0; /* width hugs content */
    padding-block: 16px; /* tablet/mobile */
  }

  @media (min-width: 1024px) {
    .tab-section__tab {
      padding-block: 24px; /* desktop */
    }
  }

  .tab-section__tab--active {
    border-bottom-color: var(--brand-primary);
  }

  /* Panels */

  .tab-section__panels {
    margin-top: var(--space-4); /* 16px below tabs */
  }

  .tab-section__panel {
    background-color: var(--grey-10);
    padding: var(--space-8); /* 32px desktop/tablet */
  }

  @media (max-width: 767.98px) {
    .tab-section__panel {
      padding: var(--space-6); /* 24px on mobile */
    }
  }

  .tab-section__panel-inner {
    display: flex;
    align-items: flex-start;
    gap: var(--space-20); /* 80px desktop */
  }

  /* Tablet: 32px gap */

  @media (max-width: 1023.98px) {
    .tab-section__panel-inner {
      gap: var(--space-8); /* 32px */
    }
  }

  /* Image block */

  .tab-section__panel-media {
    flex: 0 0 auto;
    width: 322px;
    height: 426px;
    overflow: hidden;
    background-color: var(--grey-20);
  }

  .tab-section__panel-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  /* Tablet image size */

  @media (max-width: 1023.98px) and (min-width: 768px) {
    .tab-section__panel-media {
      width: 225px;
      height: 300px;
    }
  }

  /* Mobile: image full width, 100px height, body below */

  @media (max-width: 767.98px) {
    .tab-section__panel-inner {
      flex-direction: column;
    }

    .tab-section__panel-media {
      width: 100%;
      height: 100px;
    }
  }

  /* Body block + scroll behavior */

  /* base: mobile styles via text-body-sm */

  /* Desktop: two visual columns if tall; scroll inside panel */

  @media (min-width: 1024px) {
    .tab-section__panel-body {
      max-height: 432px;
      overflow-y: auto;
      column-count: 2;
      column-gap: var(--space-8); /* 32px between columns */
    }
  }

  /* Tablet: one column, scroll if taller than 300px */

  @media (max-width: 1023.98px) and (min-width: 768px) {
    .tab-section__panel-body {
      max-height: 300px;
      overflow-y: auto;
    }
  }

  /* Mobile: stacked, scroll if taller than 340px */

  @media (max-width: 767.98px) {
    .tab-section__panel-body {
      max-height: 340px;
      overflow-y: auto;
    }
  }

  /* Source area */

  .tab-section__source-text {
    color: var(--grey-60);
  }

  .tab-section__source-text a {
    text-decoration: underline;
    color: inherit;
  }

  /* ------------------------------------------- */
  /* Candidate section (v2 layout)               */
  /* ------------------------------------------- */

  .candidate-section {
    background: linear-gradient(to bottom, var(--green-2), var(--white-90));
  }

  /* Grid: 2 columns on desktop, stacked on tablet/mobile */
  .candidate-v2 {
    row-gap: var(--space-12);
  }

  .candidate-v2__left,
  .candidate-v2__right {
    grid-column: 1 / -1;
    min-width: 0;
  }

  @media (min-width: 1024px) {
    .candidate-v2 {
      row-gap: 0;
    }

    .candidate-v2__left {
      grid-column: 1 / span 6;
    }

    .candidate-v2__right {
      grid-column: 7 / span 6;
      align-self: start;
    }
  }

  /* Image */
  .candidate-v2__image {
    margin: 0;
    display: flex;
    justify-content: center;
  }

  .candidate-v2__image img {
    display: block;
    width: 100%;
    height: auto;
    max-width: 520px;
    object-fit: contain;
  }

  @media (min-width: 1024px) {
    .candidate-v2__image {
      justify-content: flex-start;
    }
  }

  /* Right column typography */
  .candidate-v2__headline {
    margin: 0 0 var(--space-4);
    color: var(--green-13);
  }

  @media (min-width: 1024px) {
    .candidate-v2__headline {
      font-size: 3rem;
      line-height: 1.2;
    }
  }

  @media (min-width: 1024px) {
    .candidate-v2__body {
      font-size: 1.5rem;
      line-height: 1.5;
    }
  }

  .candidate-v2__source {
    margin-top: var(--space-6);
    color: var(--grey-60);
  }

  /* Checklist container */
  .candidate-v2__checklist {
    margin-top: var(--space-10);
    overflow: visible; /* allow full-bleed layout on tablet/mobile */
  }

  /* Base (tablet/mobile): single-row track with subtle hover shift */
  .candidate-v2__checklist-track {
    display: flex;
    gap: var(--space-4);
    padding: 0;
    margin: 0;
    list-style: none;
    /* swipe carousel */
    width: max-content;
  }

  @media (prefers-reduced-motion: reduce) {
    .candidate-v2__checklist {
      scroll-behavior: auto;
    }
  }

  /* Desktop: 2x2 grid under the image */
  @media (min-width: 1024px) {
    .candidate-v2__checklist {
      overflow: visible;
    }

    .candidate-v2__checklist-track {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: var(--space-4);
      margin-top: var(--space-8);
      width: 100%;
      max-width: 100%;
    }
  }

  /* Checklist items */
  .candidate-checklist-item {
    padding: var(--space-6);
    background-color: var(--green-1);
    color: var(--green-12);
    display: inline-flex;
    align-items: center;
    justify-content: center;

    /* allow long labels to wrap instead of spilling out */
    white-space: normal;
    text-align: center;
    max-width: 100%;
    min-width: 0;

    border: 1px solid rgba(0, 0, 0, 0.04);
    scroll-snap-align: start;
  }

  /* Tablet/mobile: slightly tighter pills */
  @media (max-width: 1023.98px) {
    .candidate-checklist-item {
      padding: 14px 16px;
      font-size: 1rem;
      line-height: 1.4;

      /* cap pill width so text wraps instead of forcing extra-wide cards */
      max-width: min(340px, 80vw);
    }
  }

  /* Tablet/mobile: full-bleed swipe carousel that still aligns the first item to the gutter */
  @media (max-width: 1023.98px) {
    .candidate-v2__checklist {
      /* full-bleed past page gutters */
      width: 100vw;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);

      /* keep first/last items aligned to your site gutters */
      padding-left: clamp(24px, 6vw, 280px);
      padding-right: clamp(24px, 6vw, 280px);
      box-sizing: border-box;

      /* this is the scrolling viewport */
      overflow-x: auto;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch;
      overscroll-behavior-x: contain;

      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;

      /* a little breathing room for iOS scrollbar */
      padding-bottom: 6px;
    }

    .candidate-checklist-item {
      scroll-snap-align: start;
    }
  }

  /* ------------------------------------------- */
  /* Solution section                            */
  /* ------------------------------------------- */

  .solution-section__image-strip {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-8); /* 32px */
    margin-bottom: var(--space-12);
    overflow: hidden;
  }

  .solution-section__image-shell {
    flex: 0 0 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
  }

  .solution-section__image {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* Desktop sizes */
  @media (min-width: 1024px) {
    .solution-section__image-shell:nth-child(1),
    .solution-section__image-shell:nth-child(3) {
      width: 365px;
      height: 464px;
    }

    .solution-section__image-shell:nth-child(2),
    .solution-section__image-shell:nth-child(4) {
      width: 366px;
      height: 261px;
    }
  }

  /* Tablet sizes */
  @media (min-width: 768px) and (max-width: 1023.98px) {
    .solution-section__image-shell:nth-child(1),
    .solution-section__image-shell:nth-child(3) {
      width: 182px;
      height: 232px;
    }

    .solution-section__image-shell:nth-child(2),
    .solution-section__image-shell:nth-child(4) {
      width: 183px;
      height: 130px;
    }
  }

  /* Mobile sizes */
  @media (max-width: 767.98px) {
    .solution-section__image-strip {
      gap: var(--space-4);
    }

    .solution-section__image-shell:nth-child(1),
    .solution-section__image-shell:nth-child(3) {
      width: 100px;
      height: 128px;
    }

    .solution-section__image-shell:nth-child(2),
    .solution-section__image-shell:nth-child(4) {
      width: 100px;
      height: 72px;
    }
  }

  .solution-section__intro {
    margin-bottom: var(--space-12);
  }

  .solution-section__headline {
    margin: 0 0 var(--space-10); /* 40px to body */
  }

  /* Promote headline/body sizes on desktop */
  @media (min-width: 1024px) {
    .solution-section__headline {
      font-size: 3rem; /* ~text-h2 desktop */
      line-height: 1.2;
    }

    .solution-section__body {
      font-size: 1.125rem; /* text-body-md size */
      line-height: 1.5;
    }
  }

  .solution-section__source {
    margin-top: var(--space-12);
  }

  .solution-section__source-text {
    color: var(--grey-80);
  }

  /* --- Solution item: SECOND-TO-LAST styling only --- */
  /* Target the 2nd-to-last SolutionItem in the list */
  .solution-section__items > .solution-item:nth-last-child(2) {
    position: relative;
  }

  /* Desktop: split body copy into two columns */
  @media (min-width: 1024px) {
    .solution-section__items
      > .solution-item:nth-last-child(2)
      .solution-item__body {
      column-count: 2;
      column-gap: var(--space-8);
    }
  }

  /* Tablet: force single column */
  @media (min-width: 480px) and (max-width: 1023.98px) {
    .solution-section__items
      > .solution-item:nth-last-child(2)
      .solution-item__body {
      column-count: 1;
      column-gap: normal;
    }
  }

  /* Mobile: stack with a constrained image height (no background overlay) */
  @media (max-width: 479.98px) {
    .solution-section__items > .solution-item:nth-last-child(2) {
      overflow: visible;
    }

    /* Ensure inner/content stays in normal flow */
    .solution-section__items
      > .solution-item:nth-last-child(2)
      .solution-item__inner {
      position: static;
      z-index: auto;
      background: transparent;
      padding: 0;
    }

    /* Stack main area so image sits above copy */
    .solution-section__items
      > .solution-item:nth-last-child(2)
      .solution-item__main {
      display: flex;
      flex-direction: column;
      gap: var(--space-6);
    }

    /* Make image full width with a balanced, accessible height */
    .solution-section__items
      > .solution-item:nth-last-child(2)
      .solution-item__image-wrap {
      margin: 0;
      width: 100%;
      overflow: hidden;
      background: var(--grey-10);
    }

    .solution-section__items
      > .solution-item:nth-last-child(2)
      .solution-item__image {
      width: 100%;
      height: 180px;
      object-fit: cover;
      object-position: center;
      display: block;
    }
  }

  /* Solution Items */

  .solution-section__items {
    display: flex;
    flex-direction: column;
  }

  .solution-item {
    border-top: 1px solid var(--grey-30);
    padding-top: var(--space-12);
    padding-bottom: var(--space-12);
  }

  .solution-item__inner {
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
  }

  .solution-item__headline {
    margin: 0 0 var(--space-4);
  }

  .solution-item__main {
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
  }

  .solution-item__lists {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .solution-item__list-title {
    margin: 0 0 var(--space-3);
    text-transform: uppercase;
  }

  .solution-item__list-items {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  /* List item layout & max-widths */

  .solution-list-item {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: var(--space-4);
    max-width: 100%;
  }

  .list-item__icon-wrap {
    flex: 0 0 auto;
  }

  .list-item__icon {
    width: 40px;
    height: 40px;
    object-fit: contain;
    display: block;
  }

  .list-item__text {
    flex: 1 1 auto;
  }

  /* Desktop / tablet max widths for list items */
  @media (min-width: 1024px) {
    .list-item {
      max-width: 490px;
    }
  }

  @media (min-width: 768px) and (max-width: 1023.98px) {
    .list-item {
      max-width: 408px;
    }
  }

  /* ------------------------------------------- */
  /* Item-specific layouts                       */
  /* ------------------------------------------- */

  /* 1) Solution item 1:
        - Header/body span 9 cols, body in two columns on desktop
        - Lists left, image right (desktop/tablet)
        - Stack on mobile
  */

  @media (min-width: 1024px) {
    .solution-item--1 .solution-item__inner {
      display: grid;
      grid-template-columns: repeat(12, minmax(0, 1fr));
      column-gap: var(--space-8);
      row-gap: var(--space-8);
    }

    .solution-item--1 .solution-item__header {
      grid-column: span 9;
    }

    .solution-item--1 .solution-item__main {
      grid-column: span 12;
      display: grid;
      grid-template-columns: minmax(0, 5fr) minmax(0, 7fr);
      column-gap: var(--space-8);
      align-items: flex-start;
    }

    .solution-item--1 .solution-item__body {
      column-count: 2;
      column-gap: var(--space-8);
    }
  }

  @media (min-width: 768px) and (max-width: 1023.98px) {
    .solution-item--1 .solution-item__main {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
      column-gap: var(--space-8);
      align-items: flex-start;
    }
  }

  .solution-item--1 .solution-item__image-wrap {
    display: flex;
    justify-content: flex-end;
  }

  .solution-item--1 .solution-item__image {
    width: 100%;
    max-width: 596px;
    height: auto;
  }

  /* 2) Solution item 2:
        - Image and body/pros/cons in same row on desktop/tablet
        - Body + lists as single column
  */

  @media (min-width: 768px) {
    .solution-item--2 .solution-item__main {
      display: grid;
      grid-template-columns: minmax(0, 7fr) minmax(0, 5fr);
      column-gap: var(--space-8);
      align-items: flex-start;
    }

    .solution-item--2 .solution-item__lists {
      margin-top: var(--space-4);
    }
  }

  .solution-item--2 .solution-item__image {
    width: 100%;
    max-width: 491px;
    height: auto;
  }

  @media (min-width: 768px) and (max-width: 1023.98px) {
    .solution-item--2 .solution-item__image {
      max-width: 262px;
    }
  }

  /* 3) Solution item 3:
      - Headline/body/pros/cons in one column left
      - Image aligned right on desktop/tablet
*/
  @media (min-width: 768px) {
    /* Keep the inner layout simple: header on top, main below */
    .solution-item--3 .solution-item__inner {
      display: flex;
      flex-direction: column;
      gap: var(--space-8);
    }

    /* Make main area a 2-column grid: lists left, image right */
    .solution-item--3 .solution-item__main {
      display: grid;
      grid-template-columns: minmax(0, 7fr) minmax(0, 5fr);
      column-gap: var(--space-8);
      align-items: flex-start;
    }

    .solution-item--3 .solution-item__lists {
      grid-column: 1 / 2;
    }

    .solution-item--3 .solution-item__image-wrap {
      grid-column: 2 / 3;
      display: flex;
      justify-content: flex-end;
      align-self: flex-start;
    }
  }

  .solution-item--3 .solution-item__image {
    width: 100%;
    max-width: 596px;
    height: auto;
  }

  @media (min-width: 768px) and (max-width: 1023.98px) {
    .solution-item--3 .solution-item__image {
      max-width: 262px;
    }
  }

  /* 4) Solution item 4:
      - Image left, body to the right
      - Stack on mobile (column via base .solution-item__inner)
*/

  .solution-item--4 .solution-item__image-wrap {
    flex: 0 0 auto;
    display: flex;
    justify-content: flex-start;
  }

  .solution-item--4 .solution-item__image {
    width: 100%;
    max-width: 387px;
    height: auto;
  }

  @media (min-width: 768px) {
    /* Make header + main sit in a row */
    .solution-item--4 .solution-item__inner {
      flex-direction: row;
      align-items: flex-start;
      gap: var(--space-8);
    }

    /* Image column on the left */
    .solution-item--4 .solution-item__main {
      order: 1;
      flex: 0 0 auto;
    }

    /* Copy column (headline + body) on the right */
    .solution-item--4 .solution-item__header {
      order: 2;
      flex: 1 1 auto;
    }

    .solution-item--4 .solution-item__image {
      max-width: 300px; /* tablet/desktop size */
    }
  }

  /* 5) Solution item 5:
        - Headline/body left, image right
  */

  /* Tablet: prioritize readable copy, let image shrink */
  @media (min-width: 768px) and (max-width: 1023.98px) {
    .solution-item--5 .solution-item__inner {
      display: grid;
      /* keep copy from getting too narrow */
      grid-template-columns: minmax(340px, 1fr) minmax(220px, 320px);
      column-gap: var(--space-8);
      row-gap: var(--space-6);
      align-items: start;
    }

    .solution-item--5 .solution-item__main {
      display: contents;
    }

    .solution-item--5 .solution-item__header,
    .solution-item--5 .solution-item__body,
    .solution-item--5 .solution-item__lists {
      grid-column: 1 / 2;
      min-width: 0;
    }

    .solution-item--5 .solution-item__image-wrap {
      grid-column: 2 / 3;
      grid-row: 1 / span 3;
      align-self: start;
      justify-self: end;
      display: flex;
      justify-content: flex-end;
      margin-top: 0;
    }
  }

  /* Desktop: allow bigger image, but still responsive */
  @media (min-width: 1024px) {
    .solution-item--5 .solution-item__inner {
      display: grid;
      /* image grows up to 596px, but shrinks first when space is tight */
      grid-template-columns: minmax(420px, 1fr) minmax(
          280px,
          clamp(320px, 40vw, 596px)
        );
      column-gap: var(--space-12);
      row-gap: var(--space-6);
      align-items: start;
    }

    .solution-item--5 .solution-item__main {
      display: contents;
    }

    .solution-item--5 .solution-item__header,
    .solution-item--5 .solution-item__body,
    .solution-item--5 .solution-item__lists {
      grid-column: 1 / 2;
      min-width: 0;
    }

    .solution-item--5 .solution-item__image-wrap {
      grid-column: 2 / 3;
      grid-row: 1 / span 3;
      align-self: start;
      justify-self: end;
      display: flex;
      justify-content: flex-end;
      margin-top: 0;
    }
  }

  .solution-item--5 .solution-item__image {
    width: 100%;
    height: auto;
    /* cap on large screens, but allow smaller sizes on tablet */
    max-width: 596px;
  }

  @media (min-width: 768px) and (max-width: 1023.98px) {
    .solution-item--5 .solution-item__image {
      max-width: 320px;
    }
  }

  /* Mobile: stack, with image under the copy */
  @media (max-width: 767.98px) {
    .solution-item--5 .solution-item__main {
      display: flex;
      flex-direction: column;
      gap: var(--space-6);
    }

    .solution-item--5 .solution-item__image-wrap {
      order: 3;
      margin-top: 0;
    }
  }

  /* ------------------------------------------- */
  /* Installation section – editorial zig-zag     */
  /* ------------------------------------------- */

  .installation-section__grid {
    /* more generous vertical rhythm like the mock */
    row-gap: var(--space-16);
    align-items: start;
  }

  /* text blocks: editorial line length + clean rich text */
  .installation-section__body {
    margin: 0;
    max-width: 56ch; /* tighter, more mock-like measure */
  }

  .installation-section__body p {
    margin: 0;
  }

  .installation-section__body a {
    text-decoration: underline;
    text-underline-offset: 3px;
    color: inherit;
  }

  /* Images: keep a consistent, editorial size (avoid huge full-column images) */
  .installation-section__image {
    margin: 0;
    display: flex;
  }

  .installation-section__image--1,
  .installation-section__image--3 {
    justify-content: flex-end;
  }

  .installation-section__image--2 {
    justify-content: flex-start;
  }

  .installation-section__image-media {
    display: block;
    width: 100%;
    max-width: clamp(320px, 32vw, 520px);
    height: auto;
    object-fit: cover;
  }

  /* Desktop/tablet: stronger zig-zag layout */
  @media (min-width: 768px) {
    .installation-section__header {
      grid-column: 1 / span 6;
    }

    /* Row 2: text left, image right */
    .installation-section__body--1 {
      grid-column: 1 / span 6;
      grid-row: 2;
      justify-self: start;
    }

    .installation-section__image--1 {
      grid-column: 8 / span 5;
      grid-row: 2;
      justify-self: end;
      margin-top: var(--space-2);
    }

    /* Row 3: image left, text right */
    .installation-section__image--2 {
      grid-column: 1 / span 6;
      grid-row: 3;
      justify-self: start;
    }

    .installation-section__body--2 {
      grid-column: 7 / span 6;
      grid-row: 3;
      justify-self: start;
      align-self: center;
    }

    /* Row 4: text left, image right */
    .installation-section__body--3 {
      grid-column: 1 / span 6;
      grid-row: 4;
      justify-self: start;
    }

    .installation-section__image--3 {
      grid-column: 8 / span 5;
      grid-row: 4;
      justify-self: end;
    }

    .installation-section__source {
      grid-column: 1 / -1;
      grid-row: 5;
    }
  }

  @media (min-width: 1024px) {
    .installation-section__headline {
      font-size: 3rem;
      line-height: 1.2;
    }

    /* mock reads a bit bigger/airier than your current */
    .installation-section__body {
      font-size: 1.125rem;
      line-height: 1.65;
    }
  }

  /* ------------------------------------------- */
  /* Dealer section                              */
  /* ------------------------------------------- */

  .dealer-section {
    background-color: var(--blue-9);
  }

  .dealer-section__grid {
    row-gap: var(--space-12);
  }

  .dealer-section__headline {
    margin: 0 0 var(--space-10);
  }

  /* Tips list layout */
  .dealer-section__list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-10);
  }

  @media (min-width: 1024px) {
    .dealer-section__list {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      column-gap: var(--space-16);
      row-gap: var(--space-12);
    }

    /* Cap width to ~5 columns visually */
    .dealer-item {
      max-width: 520px;
    }
  }

  /* Dealer item: icon + text column */
  .dealer-item {
    display: flex;
    align-items: flex-start; /* top aligned */
    gap: var(--space-4);
  }

  .dealer-item__icon-wrap {
    flex: 0 0 auto;
  }

  .dealer-item__icon {
    width: 34px;
    height: 34px;
    display: block;
    object-fit: contain;
  }

  .dealer-item__content {
    display: flex;
    flex-direction: column;
    gap: var(--space-2); /* 8px between headline & body */
  }

  .dealer-item__headline {
    margin: 0;
  }

  .dealer-item__body {
    margin: 0;
  }

  /* Summary band */
  .dealer-section__summary {
    margin-top: var(--space-16);
  }

  .dealer-section__summary-inner {
    background-color: var(--brand-primary);
    padding: var(--space-10) var(--space-8);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .dealer-section__summary-text {
    max-width: 40rem; /* 640px */
    text-align: center;
  }

  @media (max-width: 1023.98px) {
    .dealer-section__summary-inner {
      padding: var(--space-8);
    }

    .dealer-section__summary-text {
      max-width: none;
    }
  }

  /* Source */
  .dealer-section__source {
    margin-top: var(--space-6);
  }

  .dealer-section__source-text {
    color: var(--white-50);
  }

  /* ------------------------------------------- */
  /* Beware / Buyer Beware section               */
  /* ------------------------------------------- */

  .beware-section {
    background-color: #ffffff;
  }

  .beware-section__grid {
    row-gap: var(--space-12);
  }

  /* Headline pill + callout */

  .beware-section__header {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .beware-section__headline-pill {
    display: inline-flex;
    align-items: center;
    background-color: var(--green-10-primary);
    padding-inline: var(--space-4);
    height: 28px;
    max-width: 150px;
  }

  .beware-section__headline {
    margin: 0;
    font-family: var(--font-poppins);
    font-weight: 400; /* Poppins regular 16px */
    font-size: 16px;
    line-height: 1.2;
  }

  /* Image + right text row */

  .beware-section__image-row {
    display: grid;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    column-gap: var(--space-8);
    row-gap: var(--space-8);
    align-items: flex-start;
  }

  .beware-section__image-left {
    grid-column: 1 / span 6;
    margin: 0;
  }

  .beware-section__image-left-media {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
  }

  .beware-section__body-right {
    grid-column: 7 / span 6;
  }

  .beware-section__body-right-inner {
    margin: 0;
  }

  /* Tablet: let text be ~60% width, image 40% */
  @media (min-width: 768px) and (max-width: 1023.98px) {
    .beware-section__image-left {
      grid-column: 1 / span 5;
    }

    .beware-section__body-right {
      grid-column: 6 / span 7;
    }
  }

  /* Mobile: stack + bleed image to viewport edge */
  @media (max-width: 767.98px) {
    .beware-section__image-row {
      grid-template-columns: minmax(0, 1fr);
    }

    .beware-section__image-left {
      grid-column: 1 / -1;
    }

    .beware-section__image-left-media {
      width: 100vw;
      max-width: none;
      margin-left: calc(50% - 50vw);
      height: auto;
    }

    .beware-section__body-right {
      grid-column: 1 / -1;
    }
  }

  /* ------------------------------------------- */
  /* Examples section (image + tactic grid)      */
  /* ------------------------------------------- */

  .beware-section__examples {
    margin-top: var(--space-12);
  }

  .beware-section__example-headline {
    margin: 0 0 var(--space-8);
  }

  .beware-section__examples-main {
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    gap: var(--space-8);
    align-items: flex-start;
  }

  .beware-section__example-image {
    margin: 0;
  }

  .beware-section__example-image-media {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
  }

  /* Desktop/tablet sizes for the example image */
  @media (min-width: 768px) {
    .beware-section__examples-main {
      grid-template-columns: minmax(0, 290px) minmax(0, 1fr);
      column-gap: var(--space-12);
    }

    .beware-section__example-image-media {
      max-width: 290px;
      height: 362px;
    }
  }

  @media (min-width: 768px) and (max-width: 1023.98px) {
    .beware-section__example-image-media {
      max-width: 212px;
      height: 264px;
    }
  }

  .beware-section__example-grid {
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    gap: var(--space-6);
  }

  @media (min-width: 1024px) {
    .beware-section__example-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
      column-gap: var(--space-8);
      row-gap: var(--space-6);
    }
  }

  /* Example cards (tactic_item_grid) */

  .beware-example-card {
    padding: var(--space-4);
    max-height: 544px;
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .beware-example-card__headline {
    margin: 0;
  }

  .beware-example-card__body {
    margin: 0;
  }

  /* ------------------------------------------- */
  /* Tactics band (green-13)                     */
  /* ------------------------------------------- */

  .beware-section__tactics {
    margin-top: var(--space-16);
    background-color: var(--green-13);
    padding: var(--space-12) 0;

    /* Full-bleed background (no white gutters) */
    width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
  }

  /* Inner grid: apply gutters once (not per column) */
  .beware-section__tactics-inner {
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    row-gap: var(--space-8);

    padding-inline: clamp(24px, 6vw, 280px);
    box-sizing: border-box;
  }

  /* Remove the old per-column padding */
  .beware-section__tactics-headline-wrap,
  .beware-section__tactics-items,
  .beware-section__tactics-image {
    padding-inline: 0;
  }

  .beware-section__tactics-headline {
    margin: 0 0 var(--space-4);
    color: var(--green-5);
  }

  .beware-section__tactics-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  /* Keep the list readable (avoid overly long line-lengths) */
  .beware-section__tactics-items {
    max-width: 68ch;
  }

  .beware-tactic-list-item {
    font-family: var(--font-inter);
    font-size: 1rem; /* text-body-sm baseline */
    line-height: 1.5;
  }

  @media (min-width: 1024px) {
    .beware-tactic-list-item {
      font-size: 1.125rem; /* approx text-body-md on desktop */
    }
  }

  .beware-section__tactics-image {
    margin: 0;
  }

  .beware-section__tactics-image-media {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
  }

  /* Desktop: 3 columns (headline / list / image) — tighter spacing */
  @media (min-width: 1024px) {
    .beware-section__tactics-inner {
      grid-template-columns:
        minmax(240px, 0.9fr)
        minmax(320px, 1.2fr)
        minmax(280px, 1fr);
      column-gap: var(--space-8); /* reduced from space-12 */
      align-items: start;

      /* Match your page-grid desktop gutters */
      padding-inline: 108px;
    }

    .beware-section__tactics-image-media {
      max-width: 422px;
      height: 440px;
      margin-left: auto; /* align right */
    }
  }

  /* Tablet image sizes */
  @media (min-width: 768px) and (max-width: 1023.98px) {
    .beware-section__tactics-image-media {
      width: 100%;
      max-width: 675px;
      height: 274px;
      object-fit: cover;
      object-position: top center;
      margin-inline: auto;
    }
  }

  /* Mobile: full-width tactics image */
  @media (max-width: 767.98px) {
    .beware-section__tactics-image-media {
      width: 100vw;
      max-width: none;
      margin-left: calc(50% - 50vw);
    }
  }

  /* Source footer: align to the same gutters as the band */
  .beware-section__source {
    margin-top: var(--space-6);
    padding-inline: clamp(24px, 6vw, 280px);
  }

  @media (min-width: 1024px) {
    .beware-section__source {
      padding-inline: 108px;
    }
  }

  .beware-section__source-text {
    color: var(--white-50);
  }

  /* =========================
   Loan Section
   ========================= */

  .loan-section__grid {
    row-gap: var(--space-12);
  }

  /* Image */
  .loan-section__image-wrap {
    max-width: 600px;
    margin-inline: auto;
  }

  .loan-section__image-media {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
  }

  /* Headline + body */
  .loan-section__headline {
    margin-bottom: var(--space-6);
  }

  .loan-section__body {
    margin-bottom: var(--space-8);
  }

  /* Sources heading + divider */
  .loan-section__sources-heading {
    display: flex;
    align-items: center;
    column-gap: var(--space-4);
    margin-bottom: var(--space-4);
  }

  .loan-section__sources-label {
    white-space: nowrap;
  }

  .loan-section__sources-divider {
    flex: 1;
    height: 1px;
    background-color: var(--grey-30);
  }

  /* Items list */
  .loan-section__items {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  /* Source text */
  .loan-section__source {
    margin-top: var(--space-8);
  }

  /* Desktop layout tweaks */
  @media (min-width: 1024px) {
    /* Use flex on desktop so image + content are guaranteed to sit in one row */
    .loan-section__grid {
      display: flex;
      gap: var(--space-16);
      align-items: flex-start;
    }

    .loan-section__image-col,
    .loan-section__content {
      flex: 0 0 50%;
    }

    /* Nudge image toward the left edge while staying within its half */
    .loan-section__image-wrap {
      margin-left: 0;
    }
  }

  /* =========================
   Loan Item
   ========================= */

  .loan-item {
    list-style: none;
  }

  .loan-item__content {
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    row-gap: var(--space-3);
  }

  .loan-item__meta {
    display: inline-flex;
    align-items: center;
    justify-content: flex-start;
    column-gap: var(--space-3);
  }

  /* 24x24 icon badge with arrow */
  .loan-item__icon {
    width: 24px;
    height: 24px;
    min-width: 24px;
    min-height: 24px;
    border-radius: 9999px;

    display: inline-flex;
    align-items: center;
    justify-content: center;

    background-color: var(--yellow-8, #f7c948);
    line-height: 1; /* prevent font metrics from stretching the circle */
  }

  .loan-item__icon::before {
    content: "→";
    font-size: 12px; /* explicit size instead of rem for consistency */
    line-height: 1;
    display: block;
  }

  .loan-item__body {
    margin: 0;
  }

  /* Two-column layout for tablet/desktop */
  @media (min-width: 768px) {
    .loan-item__content {
      grid-template-columns: minmax(0, 220px) minmax(0, 1fr);
      column-gap: var(--space-8);
      align-items: flex-start;
    }
  }

  /* Insurance Section
   ------------------------------------------------------------------ */

  .insurance-section__grid {
    /* Make our own 12-column grid inside page-grid */
    display: grid;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    column-gap: var(--space-8);
    row-gap: var(--space-10);
  }

  /* Default: mobile & tablet = full width (12 cols) */
  .insurance-section__copy,
  .insurance-section__image-col {
    grid-column: span 12;
  }

  .insurance-section__copy {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .insurance-section__source {
    margin-top: var(--space-6);
  }

  /* Desktop: 6/6 split */
  @media (min-width: 1024px) {
    .insurance-section__copy,
    .insurance-section__image-col {
      grid-column: span 6;
    }
  }

  /* Image column + cropping behaviour */

  .insurance-section__image-col {
    display: flex;
    justify-content: flex-end;
  }

  .insurance-section__image {
    width: 100%;
    object-fit: cover;
    display: block;
  }

  /* Desktop: 596x711-ish */
  @media (min-width: 1024px) {
    .insurance-section__image {
      height: 711px;
    }
  }

  /* Tablet: 704x330 crop */
  @media (min-width: 768px) and (max-width: 1023px) {
    .insurance-section__image {
      height: 330px;
    }
  }

  /* Mobile: 311x203 crop */
  @media (max-width: 767px) {
    .insurance-section__image {
      height: 203px;
    }
  }

  /* =========================
   Maintenance Section
   ========================= */

  .maintenance-section {
    background-color: var(--brand-primary);
    color: var(--white-90);
  }

  /* Base: mobile + tablet → stack images then content */
  .maintenance-section__grid {
    display: flex; /* override page-grid's display:grid */
    flex-direction: column; /* images on top, content below */
    gap: var(--space-12);
  }

  /* Images wrapper */
  .maintenance-section__images {
    display: flex;
    flex-direction: row; /* MOBILE/TABLET: images in a row L → R */
    gap: var(--space-4);
  }

  .maintenance-section__image {
    margin: 0;
    flex: 1 1 0;
  }

  .maintenance-section__image-media {
    display: block;
    width: 100%;
    object-fit: cover;
  }

  /* Mobile image height: ~150×164 */
  @media (max-width: 767.98px) {
    .maintenance-section__image-media {
      height: 164px;
    }
  }

  /* Tablet image height: ~300×330 */
  @media (min-width: 768px) and (max-width: 1023.98px) {
    .maintenance-section__image-media {
      height: 330px;
    }
  }

  /* Content (headline + body + items + source) */
  .maintenance-section__content {
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
  }

  .maintenance-section__headline {
    margin: 0 0 var(--space-6);
  }

  /* Body: white-70 + responsive type */
  .maintenance-section__body {
    color: var(--white-70);
  }

  /* Items list */
  .maintenance-section__items {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  /* Source */
  .maintenance-section__source {
    margin-top: var(--space-8);
    color: var(--white-50);
  }

  /* Desktop: image + content side-by-side, images stack vertically */
  @media (min-width: 1024px) {
    .maintenance-section__grid {
      flex-direction: row; /* now left/right */
      gap: var(--space-16);
      align-items: flex-start;
    }

    .maintenance-section__images-col,
    .maintenance-section__content {
      flex: 0 0 50%; /* 50/50 split */
    }

    .maintenance-section__images {
      flex-direction: column;
      gap: var(--space-6);
      max-width: 344px;
    }

    .maintenance-section__image-media {
      width: 344px;
      height: 430px;
    }
  }

  /* =========================
   Maintenance Item
   ========================= */

  .maintenance-item {
    list-style: none;
  }

  .maintenance-item__content {
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    row-gap: var(--space-3);
  }

  /* icon + headline row */
  .maintenance-item__meta {
    display: inline-flex;
    align-items: center;
    justify-content: flex-start;
    column-gap: var(--space-3);
  }

  /* 24×24 yellow circle w/ arrow */
  .maintenance-item__icon {
    width: 24px;
    height: 24px;
    border-radius: 9999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: var(--yellow-8);
  }

  .maintenance-item__icon::before {
    content: "→";
    font-size: 0.75rem;
  }

  .maintenance-item__headline {
    margin: 0;
  }

  /* body text under/right of meta */
  .maintenance-item__body {
    margin: 0;
    color: var(--white-70);
  }

  /* Tablet + desktop: 2-column layout for each item
   - left: icon + headline
   - right: body
*/
  @media (min-width: 768px) {
    .maintenance-item__content {
      grid-template-columns: minmax(0, 220px) minmax(0, 1fr);
      column-gap: var(--space-8);
      align-items: flex-start;
    }
  }

  /* =========================
   Footer
   ========================= */

  .footer {
    background-color: var(--blue-13);
    color: var(--white-90);
    padding-top: var(--space-16);
    padding-bottom: var(--space-12);
  }

  .footer__grid {
    row-gap: var(--space-12);
  }

  /* Intro: logo + text */

  .footer__intro-row {
    display: flex;
    align-items: flex-start;
    gap: var(--space-8);
  }

  .footer__logo-wrap {
    flex: 0 0 auto;
  }

  .footer__logo-img {
    display: block;
    width: 40px;
    height: auto;
    object-fit: contain;
  }

  @media (min-width: 768px) {
    .footer__logo-img {
      width: 80px;
    }
  }

  .footer__intro-text {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .footer__headline {
    margin: 0;
  }

  .footer__body {
    margin: 0;
  }

  /* Signup panel */

  .footer__intro {
    padding: var(--space-10);
    /* default: full-width on the 12-col page-grid */
    grid-column: 1 / -1;
  }

  .footer__signup {
    background-color: var(--blue-14);
    padding: var(--space-10);
    /* default: full-width on the 12-col page-grid */
    grid-column: 1 / -1;
  }

  @media (min-width: 1024px) {
    .footer__intro,
    .footer__signup {
      grid-column: span 6 / span 6;
    }
  }

  @media (max-width: 767.98px) {
    .footer__signup {
      padding: var(--space-8);
    }
  }

  .footer__signup-inner {
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
  }

  @media (min-width: 768px) {
    .footer__signup-inner {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-10);
    }
  }

  /* Left side: icon + text */

  .footer__signup-copy {
    display: flex;
    align-items: center;
    gap: var(--space-6);
    flex: 1 1 0;
  }

  .footer__signup-image-wrap {
    flex: 0 0 auto;
  }

  .footer__signup-image {
    display: block;
    width: 58px;
    height: auto;
    object-fit: contain;
  }

  .footer__signup-text {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .footer__signup-headline {
    margin: 0;
  }

  .footer__signup-body {
    margin: 0;
  }

  /* Right side: email + button */

  .footer__signup-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    flex: 0 0 260px;
    max-width: 360px;
  }

  .footer__email-label {
    width: 100%;
  }

  .footer__email-input {
    width: 100%;
    padding: var(--space-4);
    border-radius: 0;
    border: 1px solid var(--white-60);
    background-color: transparent;
    color: var(--white-90);
  }

  .footer__email-input::placeholder {
    color: var(--white-60);
  }

  .footer__button {
    width: 100%;
    padding-block: var(--space-4);
    border: none;
    background-color: var(--brand-primary);
    cursor: pointer;
  }

  .footer__button:hover {
    opacity: 0.95;
  }

  .footer__button:focus-visible {
    outline: 2px solid var(--white-80);
    outline-offset: 2px;
  }

  /* Credit row */
  .footer__credit-inner {
    display: flex;
    align-items: center;
    gap: var(--space-3); /* or 8/12px, whatever your system uses */
  }

  .footer__credit-image {
    width: 102px;
    height: auto;
    display: block;
    max-width: 100%;
  }

  .footer__credit-text a {
    text-decoration: underline;
    color: inherit;
  }

  /* Bottom row: links + copyright */

  .footer__bottom {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    padding-top: var(--space-4);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  @media (min-width: 768px) {
    .footer__bottom {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }
  }

  .footer__links-nav {
    flex: 1 1 auto;
  }

  .footer__links-list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-4); /* 16px desktop/tablet */
    margin: 0;
    padding: 0;
    list-style: none;
  }

  @media (max-width: 767.98px) {
    .footer__links-list {
      gap: var(--space-2); /* 8px mobile */
    }
  }

  .footer-link__anchor {
    text-decoration: none;
  }

  .footer-link__anchor:hover {
    text-decoration: underline;
  }

  .footer__copyright {
    text-align: left;
  }

  @media (min-width: 768px) {
    .footer__copyright {
      text-align: right;
      margin-left: var(--space-8);
      white-space: nowrap;
    }
  }

  /* Utility color for blue-3 text */

  .text-blue-3 {
    color: var(--blue-3);
  }

  /* Screen-reader-only helper */

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* ===========================
   Question Section Layout
   =========================== */

  .question-section {
    background-color: var(--white-100, #ffffff);
  }

  .question-section__grid {
    display: grid;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    column-gap: var(--space-8);
    row-gap: var(--space-12);
    align-items: flex-start;
  }

  .question-section__categories,
  .question-section__items {
    /* Mobile & tablet: each block takes the full 12-column width */
    grid-column: 1 / -1;
  }

  @media (min-width: 1024px) {
    .question-section__categories {
      /* Left column: 6 of 12 */
      grid-column: 1 / span 6;
    }

    .question-section__items {
      /* Right column: 6 of 12 */
      grid-column: 7 / span 6;
    }
  }

  .question-section__category-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: row; /* mobile & tablet: horizontal strip */
    gap: var(--space-4);
    overflow-x: auto;
    padding-bottom: var(--space-2);
  }

  .question-section__category-item {
    flex: 0 0 auto; /* important for the horizontal strip */
  }

  @media (min-width: 1024px) {
    .question-section__category-list {
      flex-direction: column; /* desktop: vertical rail */
      overflow-x: visible;
      padding-bottom: 0;
    }
    .question-section__category-item {
      width: 100%;
    }
  }

  .question-section__categories {
    background-color: var(--grey-10);
    margin-bottom: var(--space-8);
    position: sticky;
    top: 0;
    z-index: 5;
  }

  @media (min-width: 1024px) {
    .question-section__categories {
      margin-bottom: 0;
    }
  }

  /* Base category button */
  .question-section__category-btn {
    width: 100%;
    border-radius: 0;
    border: none;
    padding: var(--space-4) var(--space-6);
    background-color: transparent;
    color: var(--brand-primary, #232f87);
    text-align: left;
    cursor: pointer;
    transition: background-color 150ms ease, color 150ms ease;
    font: inherit;
  }

  @media (min-width: 768px) {
    .question-section__category-btn {
      padding: var(--space-3) var(--space-5);
    }
  }

  /* Active state */
  .question-section__category-btn--active {
    background-color: var(--brand-primary, #232f87);
    color: var(--brand-on-dark, #ffffff);
  }

  /* Panel visibility helpers */
  .question-section__panel {
    margin-top: 0;
  }

  .question-section__panel--hidden {
    display: none;
  }

  .question-section__panel--active {
    display: block;
  }

  /* Individual Q&A item */
  .question-section__item {
    padding-block: var(--space-5);
    border-bottom: 1px solid var(--grey-20, #e1e4ea);
  }

  .question-section__item:last-child {
    border-bottom: none;
  }

  /* New type style: Inter 24px Medium for questions */
  .text-question-heading {
    font-family: var(
      --font-inter,
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      "Inter",
      sans-serif
    );
    font-size: 24px;
    line-height: 1.4;
    font-weight: 500;
    letter-spacing: 0;
    color: var(--brand-primary);
  }

  /* Answer text wrapper */
  .question-section__item-answer {
    margin-top: var(--space-3);
  }

  /* Small tweak: tighten chip sizes on mobile */
  @media (max-width: 767px) {
    .question-section__category-btn {
      padding: var(--space-2) var(--space-3);
    }
  }
  /* Optional: hover state on desktop */
  @media (min-width: 1024px) {
    .question-section__category-btn:hover:not(
        .question-section__category-btn--active
      ) {
      background-color: rgba(255, 255, 255, 0.04);
    }
  }

  /* Mobile menu button (hidden on desktop) */
  .nav-menu-btn {
    display: none;
    font: 600 14px/1 var(--font-inter);
    color: #ffffff;
    background: transparent;
    border: 0;
    padding: 8px 10px;
    border-radius: 9999px;
    cursor: pointer;
    align-items: center;
    gap: 6px;
  }

  .nav-menu-btn:hover {
    opacity: 0.9;
  }

  .nav-shell--solid .nav-menu-btn {
    color: var(--brand-primary);
  }

  /* Mobile dropdown panel */
  .nav-mobile-panel {
    position: absolute;
    left: 0;
    right: 0;
    top: 100%;
    background: #ffffff;
    box-shadow: 0 12px 28px rgba(15, 23, 42, 0.18);
  }

  .nav-mobile-links {
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding: 16px;
  }

  .nav-mobile-link {
    color: var(--brand-primary);
    text-decoration: none;
    font: 600 16px/1.2 var(--font-inter);
    padding: 10px 12px;
    border-radius: 10px;
    background: var(--grey-10);
  }

  .nav-mobile-link:hover {
    background: var(--grey-20);
  }

  .nav-mobile-cta {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    font: 700 16px/1 var(--font-inter);
    padding: 12px 16px;
    border-radius: 9999px;
    background: var(--brand-primary);
    color: #ffffff;
    margin-top: 6px;
  }

  @media (max-width: 1023.98px) {
    /* Hide center links + desktop right actions */
    .nav-center {
      display: none;
    }

    .nav-right .nav-link,
    .nav-right .nav-cta {
      display: none;
    }

    /* Show the Menu button */
    .nav-menu-btn {
      display: inline-flex;
    }
  }
}

@media (prefers-reduced-motion: reduce) {
  .topics-dropdown {
    transition: none;
  }

  .topics-caret {
    transition: none;
  }

  .topics-item::after {
    transition: none;
  }
  .topics-item {
    transition: none;
  }
}

/* Prevent background scroll when mobile menu is open */
body.nav-scroll-locked {
  overflow: hidden;
  /* helps on some mobile browsers */
  touch-action: none;
}

/* Mobile panel should be the scroll container */
.nav-mobile-panel {
  max-height: calc(100vh - var(--nav-height));
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* ------------------------------------------- */
/* Maintenance                                 */
/* ------------------------------------------- */

/* =========================
   Maintenance Item (icon)
   ========================= */

.maintenance-item__icon {
  width: 24px;
  height: 24px;
  min-width: 24px;
  min-height: 24px;
  border-radius: 9999px;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  /* circle background stays as the yellow pill */
  background-color: var(--yellow-10-primary);

  /* arrow color should be Blue 10 */
  color: var(--blue-10-primary);

  line-height: 1; /* prevent font metrics from stretching the circle */
}

.maintenance-item__icon::before {
  content: "→";
  font-size: 12px; /* fixed for consistent rendering */
  line-height: 1;
  display: block;
  color: currentColor;
}

/* If the nav is position:fixed on a page (no hero overlay), add this to the main wrapper */
.has-fixed-nav-offset {
  padding-top: var(--nav-height);
}
