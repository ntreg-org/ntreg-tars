@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import the fonts */
@import "@fontsource/poppins/400.css";
@import "@fontsource/poppins/500.css";
@import "@fontsource/poppins/600.css";
@import "@fontsource/poppins/700.css";
@import "@fontsource/inter/400.css";
@import "@fontsource/inter/500.css";
@import "@fontsource/inter/600.css";
@import "@fontsource/inter/700.css";

@layer base {
  :root {
    /* Spacing scale (4px baseline) */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-7: 28px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;
    --space-14: 56px;
    --space-16: 64px;
    --space-20: 80px;
    --space-24: 96px;
    --space-28: 112px;
    --space-32: 128px;

    /* ----------------------------- */
    /* Color scales from Figma       */
    /* ----------------------------- */

    /* BLUE ------------------------ */
    --blue-1: #e9eaf2;
    --blue-2: #d4d5e5;
    --blue-3: #bebfd8;
    --blue-4: #a9aacb;
    --blue-5: #9395bd;
    --blue-6: #7e80b0;
    --blue-7: #535596;
    --blue-8: #535596; /* duplicate in Figma */
    --blue-9: #3e4089;
    --blue-10-primary: #282b7c;
    --blue-11: #202263;
    --blue-12: #181a4a;
    --blue-13: #101132;
    --blue-14: #080919;
    --blue-15: #04040c;

    /* YELLOW ---------------------- */
    --yellow-1: #fffbf0;
    --yellow-2: #fff6e0;
    --yellow-3: #fff2d1;
    --yellow-4: #ffedc1;
    --yellow-5: #ffe9b2;
    --yellow-6: #ffe5a3;
    --yellow-7: #ffe093;
    --yellow-8: #ffdc84;
    --yellow-9: #ffd774;
    --yellow-10-primary: #ffd365;
    --yellow-11: #cca951;
    --yellow-12: #997f3d;
    --yellow-13: #665428;
    --yellow-14: #332a14;
    --yellow-15: #1a150a;

    /* PURPLE ---------------------- */
    --purple-1: #f9f3fd;
    --purple-2: #f2e7fc;
    --purple-3: #ecdbfa;
    --purple-4: #e6cff8;
    --purple-5: #dfc3f7;
    --purple-6: #d9b6f5;
    --purple-7: #d3aaf3;
    --purple-8: #cd9ef1;
    --purple-9: #c692f0;
    --purple-10-primary: #c086ee;
    --purple-11: #9a6bbe;
    --purple-12: #73508f;
    --purple-13: #4d365f;
    --purple-14: #261b30;
    --purple-15: #130d18;

    /* GREEN ----------------------- */
    --green-1: #e9f8f0;
    --green-2: #d3f0e1;
    --green-3: #bde9d2;
    --green-4: #a7e1c3;
    --green-5: #91dab4;
    --green-6: #7cd3a6;
    --green-7: #66cb97;
    --green-8: #50c488;
    --green-9: #3abc79;
    --green-10-primary: #24b56a;
    --green-11: #1d9155;
    --green-12: #166d40;
    --green-13: #0e482a;
    --green-14: #072415;
    --green-15: #04120b;

    /* WHITE overlays -------------- */
    --white-05: rgba(255, 255, 255, 0.05);
    --white-10: rgba(255, 255, 255, 0.08);
    --white-20: rgba(255, 255, 255, 0.2);
    --white-30: rgba(255, 255, 255, 0.24);
    --white-40: rgba(255, 255, 255, 0.4);
    --white-50: rgba(255, 255, 255, 0.48);
    --white-60: rgba(255, 255, 255, 0.6);
    --white-70: rgba(255, 255, 255, 0.8);
    --white-80: rgba(255, 255, 255, 0.92);
    --white-90: #ffffff;

    /* GREY neutrals ---------------- */
    --grey-05: #f9fafa;
    --grey-10: #f4f5f6;
    --grey-20: #e9ebec;
    --grey-30: #d9dbdd;
    --grey-40: #b5b8ba;
    --grey-50: #95999d;
    --grey-60: #737a82;
    --grey-70: #565c61;
    --grey-80: #323334;
    --grey-90: #000000;

    /* ----------------------------- */
    /* Semantic brand tokens         */
    /* ----------------------------- */

    --brand-primary: var(--blue-10-primary); /* NTREG navy */
    --brand-highlight: var(
      --yellow-10-primary
    ); /* gold highlight (matches your old var) */
    --brand-accent: var(--purple-10-primary); /* secondary accent */
    --brand-success: var(--green-10-primary); /* positive / success */
    --brand-surface: var(--blue-1); /* light cards/backgrounds */
    --brand-surface-alt: var(--grey-05);
    --brand-text-main: var(--grey-90);
    --brand-text-inverse: var(--white-90);

    /* ----------------------------- */
    /* Fonts (your existing setup)   */
    /* ----------------------------- */

    --font-inter: "Inter", sans-serif;
    --font-poppins: "Poppins", sans-serif;
  }

  body {
    font-family: var(--font-inter);
  }

  h1,
  h2 {
    font-family: var(--font-poppins);
    font-weight: 500;
    font-synthesis: none;
  }
}

@layer utilities {
  /* Padding utilities */
  .pt-section {
    padding-top: var(--space-20);
  }
  .pb-section {
    padding-bottom: var(--space-20);
  }
  .py-section {
    padding-top: var(--space-20);
    padding-bottom: var(--space-20);
  }

  /* Horizontal padding helpers */
  .px-section {
    padding-left: var(--space-8);
    padding-right: var(--space-8);
  }

  /* Gap utilities */
  .gap-sm {
    gap: var(--space-4);
  }
  .gap-md {
    gap: var(--space-8);
  }
  .gap-lg {
    gap: var(--space-12);
  }
  .gap-xl {
    gap: var(--space-20);
  }

  /* Vertical spacing above a block */
  .space-block-sm {
    margin-top: var(--space-8);
  }
  .space-block-md {
    margin-top: var(--space-12);
  }
  .space-block-lg {
    margin-top: var(--space-20);
  }
  .space-block-xl {
    margin-top: var(--space-32);
  }

  /* ------------------------------------------- */
  /* Brand color utilities                       */
  /* ------------------------------------------- */

  .bg-brand-primary {
    background-color: var(--brand-primary);
  }

  .bg-brand-highlight {
    background-color: var(--brand-highlight);
  }

  .bg-brand-surface {
    background-color: var(--brand-surface);
  }

  .bg-brand-surface-alt {
    background-color: var(--brand-surface-alt);
  }

  .text-brand-primary {
    color: var(--brand-primary);
  }

  .text-brand-highlight {
    color: var(--brand-highlight);
  }

  .text-brand-on-dark {
    color: var(--brand-text-inverse);
  }

  .text-brand-on-light {
    color: var(--brand-text-main);
  }

  .border-brand-primary {
    border-color: var(--brand-primary);
  }

  .border-brand-highlight {
    border-color: var(--brand-highlight);
  }

  .text-green-13 {
    color: var(--green-13);
  }

  /* ------------------------------------------- */
  /* Typography Tokens                           */
  /* ------------------------------------------- */

  /* Headings (Poppins) ------------------------ */

  .text-h1 {
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 2.5rem; /* mobile ~40px */
    line-height: 1.1;
  }

  .text-h2 {
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 2rem; /* mobile ~32px */
    line-height: 1.2;
  }

  .text-h3 {
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 1.5rem; /* mobile ~24px */
    line-height: 1.25;
  }

  @media (min-width: 1024px) {
    .text-h1 {
      font-size: 6rem; /* 96px */
      line-height: 1.1;
    }

    .text-h2 {
      font-size: 3rem; /* 48px */
      line-height: 1.2;
    }

    .text-h3 {
      font-size: 2rem; /* 32px */
      line-height: 1.25;
    }
  }

  /* Body (Inter) ------------------------------ */

  .text-body-lg {
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 1.5rem; /* 24px on mobile */
    line-height: 1.5;
  }

  @media (min-width: 1024px) {
    .text-body-lg {
      font-size: 2rem; /* 32px */
    }
  }

  .text-body-md {
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 1.125rem; /* 18px mobile */
    line-height: 1.5;
  }

  @media (min-width: 1024px) {
    .text-body-md {
      font-size: 1.5rem; /* 24px */
    }
  }

  .text-body-md-strong {
    font-family: var(--font-inter);
    font-weight: 600; /* SemiBold */
    font-size: 1.125rem;
    line-height: 1.5;
  }

  @media (min-width: 1024px) {
    .text-body-md-strong {
      font-size: 1.5rem;
    }
  }

  .text-body-sm {
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 1rem; /* 16px */
    line-height: 1.5;
  }

  .text-body-sm-strong {
    font-family: var(--font-inter);
    font-weight: 500; /* Medium */
    font-size: 1rem;
    line-height: 1.5;
  }

  .text-body-xs {
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 0.875rem; /* 14px */
    line-height: 1.4;
  }

  .text-body-xs-strong {
    font-family: var(--font-inter);
    font-weight: 600; /* SemiBold */
    font-size: 0.875rem;
    line-height: 1.4;
  }

  /* Microcopy --------------------------------- */

  .text-fine {
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 0.75rem; /* 12px */
    line-height: 1.4;
  }

  .text-fine-strong {
    font-family: var(--font-inter);
    font-weight: 700; /* Bold */
    font-size: 0.75rem;
    line-height: 1.4;
  }

  /* Buttons ----------------------------------- */

  .text-button-primary {
    font-family: var(--font-inter);
    font-weight: 600; /* SemiBold */
    font-size: 1rem; /* 16px */
    line-height: 1.5;
  }

  .text-button-secondary {
    font-family: var(--font-inter);
    font-weight: 700; /* Bold */
    font-size: 1rem;
    line-height: 1.5;
  }

  /* ------------------------------------------- */
  /* 12-col page grid (Tailwind-safe for v4)     */
  /* ------------------------------------------- */

  .page-grid {
    display: grid;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    column-gap: 32px;
    padding-inline: clamp(24px, 6vw, 280px);
  }

  @media (min-width: 1024px) {
    .page-grid {
      padding-inline: 108px;
    }
  }

  /* ------------------------------------------- */
  /* ------------------------------------------- */
  /* CONTENT SPECIFIC STYLES -------------------------- */
  /* ------------------------------------------- */
  /* ------------------------------------------- */

  /* ------------------------------------------- */
  /* Hero Typography + Colors                    */
  /* ------------------------------------------- */

  .hero-type {
    letter-spacing: -0.01em;
  }

  .hero-white {
    color: #fff !important;
  }

  .text-brand-highlight {
    color: var(--brand-highlight) !important;
  }

  .hero-subcopy {
    color: #ffffff !important;
    font: 500 16px/24px var(--font-inter);
    max-width: 432px;
  }

  /* ------------------------------------------- */
  /* “Continue Learning ↓” link                   */
  /* ------------------------------------------- */

  .hero-scroll {
    font: 600 16px/24px var(--font-inter);
    color: #fff;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    white-space: nowrap;
    text-decoration: none;
  }

  .hero-scroll:visited {
    color: #fff;
  }
  .hero-scroll:hover {
    opacity: 0.9;
  }

  .hero-scroll:focus-visible {
    outline: 2px solid rgb(255 255 255 / 0.5);
    outline-offset: 2px;
    border-radius: 4px;
  }

  .hero-scroll__icon {
    display: inline-block;
    font-size: 16px;
    line-height: 24px;
    transform: translateY(2px);
    animation: arrow-bob 2.4s infinite both;
    animation-delay: 0.7s;
    will-change: transform;
  }

  @media (prefers-reduced-motion: reduce) {
    .hero-scroll__icon {
      animation: none;
    }
  }

  @keyframes arrow-bob {
    0% {
      transform: translateY(0);
      animation-timing-function: cubic-bezier(0, 0, 0.58, 1);
    }
    45% {
      transform: translateY(8px);
      animation-timing-function: cubic-bezier(0.2, 0.8, 0.2, 1);
    }
    100% {
      transform: translateY(0);
    }
  }

  /* ------------------------------------------- */
  /* Responsive Type Scaling                     */
  /* ------------------------------------------- */

  @media (min-width: 1024px) {
    .hero-type {
      font-size: 96px;
      line-height: 40px;
    }
    .hero-subcopy {
      max-width: 100%;
    }
  }

  @media (min-width: 768px) and (max-width: 1023.98px) {
    .hero-type {
      font-size: 64px;
      line-height: 24px;
    }
  }

  @media (max-width: 767.98px) {
    .hero-type {
      font-size: 40px;
      line-height: 16px;
    }
  }

  /* ------------------------------------------- */
  /* Navigation                                  */
  /* ------------------------------------------- */

  .nav-shell {
    /* gradient behind the nav */
    background: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0.7),
      rgba(0, 0, 0, 0.4),
      transparent
    );
  }

  .nav-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-block: 16px; /* top/bottom spacing */
    gap: 24px; /* safety gap if things get tight */
  }

  .nav-center {
    display: flex;
    align-items: center;
    gap: 32px; /* space between "Topics" & "Solar Contractor..." */
    font: 500 14px/1 var(--font-inter);
    color: #ffffff;
  }

  .nav-right {
    display: flex;
    align-items: center;
    gap: 24px; /* space between PDF and Donate */
  }

  .nav-link {
    font: 500 14px/1 var(--font-inter);
    color: #ffffff;
    text-decoration: none;
  }

  .nav-link:hover {
    opacity: 0.9;
  }

  .nav-cta {
    font: 600 14px/1 var(--font-inter);
    padding: 10px 24px;
    border-radius: 9999px;
    background-color: #ffffff;
    color: #111827;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
  }

  .nav-cta:hover {
    background-color: rgb(249 250 251);
  }

  /* Nav Logo ------------------------------------------------ */

  .nav-logo-wrapper {
    width: 56px;
    height: 56px;
  }

  @media (min-width: 768px) {
    .nav-logo-wrapper {
      width: 80px;
      height: 80px;
    }
  }

  .nav-logo-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
  }

  /* ------------------------------------------- */
  /* Typography tokens (H2 used here)           */
  /* ------------------------------------------- */

  .text-h2 {
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 32px;
    line-height: 1.2;
  }

  @media (min-width: 768px) {
    .text-h2 {
      font-size: 40px;
    }
  }

  @media (min-width: 1024px) {
    .text-h2 {
      font-size: 48px;
    }
  }

  /* ------------------------------------------- */
  /* Introduction section                        */
  /* ------------------------------------------- */

  .intro-grid {
    /* page-grid already sets display: grid */
    grid-template-columns: 1fr; /* 1 column on mobile */
    row-gap: var(--space-20);
    margin-top: var(--space-12);
  }

  @media (min-width: 1024px) {
    .intro-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr)); /* 2 cards per row */
      column-gap: var(--space-12);
    }
  }
  .intro-card {
    display: grid;
    grid-template-columns: minmax(0, 280px) minmax(0, 1fr);
    column-gap: var(--space-10);
    align-items: stretch;
  }

  @media (min-width: 1024px) {
    .intro-card {
      grid-template-columns: minmax(0, 320px) minmax(0, 1fr);
      column-gap: var(--space-12);
    }
  }

  @media (max-width: 767.98px) {
    .intro-card {
      grid-template-columns: minmax(0, 1fr);
      row-gap: var(--space-6);
    }
  }

  .intro-card__media img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .intro-card__body {
    background-color: var(--grey-05); /* Grey/05 card */
    padding: var(--space-8);
    display: flex;
    flex-direction: column;
    row-gap: var(--space-4);
  }

  @media (max-width: 767.98px) {
    .intro-card__body {
      padding: var(--space-6);
    }
  }

  .intro-card__quote {
    margin: 0;
  }

  .intro-card__name {
    margin-top: var(--space-6);
  }

  .intro-card__meta {
    margin-top: var(--space-1);
  }

  .intro-card__button {
    margin-top: var(--space-8);
    align-self: flex-start;
    padding: var(--space-4) var(--space-6);
    background-color: var(--grey-20);
    color: var(--brand-primary);
    border: none;
    cursor: pointer;
  }

  .intro-card__button:hover {
    background-color: var(--grey-30);
  }

  .intro-card__button:focus-visible {
    outline: 2px solid var(--brand-primary);
    outline-offset: 3px;
  }

  /* Neutral text colors */
  .text-grey-70 {
    color: var(--grey-70);
  }

  .text-grey-80 {
    color: var(--grey-80);
  }

  .intro-divider {
    width: 100%;
    height: 1px;
    background-color: var(--grey-20);
    margin-bottom: var(--space-12); /* spacing before the cards */
  }

  /* ------------------------------------------- */
  /* Introduction modal                          */
  /* ------------------------------------------- */

  .intro-modal {
    position: fixed;
    inset: 0;
    z-index: 40;
    display: flex; /* JS overrides this to 'none' initially */
    justify-content: center;
    align-items: flex-start;
    padding: 40px 16px;
    background-color: rgba(0, 0, 0, 0.6);
    overflow-y: auto;
  }

  .intro-modal__dialog {
    position: relative;
    width: 100%;
    max-width: 960px;
    background-color: #ffffff;
    display: grid;
    grid-template-columns: minmax(0, 260px) minmax(0, 1fr);
    column-gap: 40px;
    padding: 40px;
    max-height: calc(100vh - 80px);
    overflow-y: auto;
  }

  @media (max-width: 767.98px) {
    .intro-modal__dialog {
      grid-template-columns: minmax(0, 1fr);
      row-gap: 24px; /* 6 * 4px */
      padding: 24px; /* 6 * 4px */
    }
  }

  .intro-modal__media img {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
  }

  .intro-modal__content {
    font-family: var(--font-inter);
    font-size: 16px;
    line-height: 24px;
    color: #111827;
  }

  .intro-modal__body {
    margin-top: 24px; /* 6 * 4px */
  }

  .intro-modal__close {
    position: absolute;
    top: 16px;
    right: 16px;
    width: 40px;
    height: 40px;
    border-radius: 9999px;
    border: none;
    background-color: #282b7c;
    color: #ffffff;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
  }

  .intro-modal__close:focus-visible {
    outline: 2px solid #ffffff;
    outline-offset: 2px;
  }

  /* ------------------------------------------- */
  /* Partner logo section                        */
  /* ------------------------------------------- */

  .partner-logo-section__header {
    text-align: center;
  }

  .partner-logo-section__headline {
    /* Already using text-body-sm-strong + text-brand-primary */
    margin: 0;
  }

  .partner-logos {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-16); /* mobile: 16 = 64px */
    list-style: none;
    padding: 0;
  }

  @media (min-width: 768px) {
    .partner-logos {
      gap: var(--space-28); /* tablet/desktop: 28 = 112px */
    }
  }

  .partner-logos__item {
    display: flex;
  }

  .partner-logos__link {
    display: inline-flex;
  }

  .partner-logos__image {
    width: 52px;
    height: 52px;
    object-fit: contain;
    display: block;
  }

  /* ------------------------------------------- */
  /* Benefits carousel section                   */
  /* ------------------------------------------- */

  .benefits-carousel-section {
    color: var(--white-90);
  }

  .benefits-carousel__header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: var(--space-8); /* 32px between text and arrows on desktop/tablet */
  }

  .benefits-carousel__header-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    column-gap: var(--space-8); /* 32px between headline and body */
    row-gap: 0;
    max-width: 960px;
  }

  /* Mobile: stack headline & body */
  @media (max-width: 767.98px) {
    .benefits-carousel__header {
      flex-direction: column;
      align-items: flex-start;
    }

    .benefits-carousel__header-grid {
      grid-template-columns: minmax(0, 1fr);
      row-gap: var(--space-8); /* 32px between headline and body */
    }
  }

  .benefits-carousel__headline {
    margin: 0;
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 1.5rem; /* text-h3 size on mobile/tablet */
    line-height: 1.25;
  }

  @media (min-width: 1024px) {
    /* Desktop: match text-h2 scale */
    .benefits-carousel__headline {
      font-size: 3rem; /* 48px */
      line-height: 1.2;
    }
  }

  .benefits-carousel__body {
    /* text-body-sm on mobile/tablet */
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 1rem;
    line-height: 1.5;
  }

  @media (min-width: 1024px) {
    /* text-body-md on desktop */
    .benefits-carousel__body {
      font-size: 1.125rem; /* 18px */
    }
  }

  /* Carousel nav buttons */
  .benefits-carousel__nav-group {
    display: inline-flex;
    gap: var(--space-4);
    align-items: center;
  }

  .benefits-carousel__nav {
    width: 48px;
    height: 48px;
    border-radius: 0;
    border: none;
    padding: 0;
    background-color: var(--blue-12);
    color: var(--white-90);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.25rem;
  }

  .benefits-carousel__nav:hover {
    opacity: 0.9;
  }

  .benefits-carousel__nav:focus-visible {
    outline: 2px solid var(--white-80);
    outline-offset: 2px;
  }

  /* Hide nav buttons on mobile */
  @media (max-width: 767.98px) {
    .benefits-carousel__nav-group {
      display: none;
    }
  }

  /* Carousel track + cards */
  .benefits-carousel__viewport {
    overflow-x: auto;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    padding-bottom: var(--space-4); /* breathing room for scrollbar */
  }

  .benefits-carousel__track {
    display: flex;
    gap: var(--space-8); /* 32px between cards */
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .benefits-card {
    background-color: var(--blue-12);
    color: var(--white-90);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: var(--space-8);
    box-sizing: border-box;
    flex-shrink: 0;
    width: 230px;
    height: 292px;
  }

  @media (min-width: 1024px) {
    .benefits-card {
      width: 282px;
      height: 424px;
    }
  }

  .benefits-card__body {
    flex: 1;
    display: flex;
  }

  .benefits-card__copy {
    margin: 0;
    font-family: var(--font-inter);
    font-weight: 400;
    font-size: 1rem; /* text-body-sm baseline */
    line-height: 1.5;
  }

  @media (min-width: 1024px) {
    .benefits-card__copy {
      font-size: 1.125rem; /* text-body-md on desktop */
    }
  }

  .benefits-card__image-wrap {
    margin-top: var(--space-6);
    height: 96px;
    overflow: hidden;
    position: relative;
  }

  @media (min-width: 1024px) {
    .benefits-card__image-wrap {
      height: 128px;
    }
  }

  .benefits-card__image {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: auto;
    display: block;
  }

  /* Source text */
  .benefits-carousel__source {
    margin-top: 0;
  }

  .benefits-carousel__source-text {
    color: var(--white-50);
  }

  .benefits-carousel__source-text a {
    text-decoration: underline;
    color: inherit;
  }

  /* ------------------------------------------- */
  /* Tab section                                 */
  /* ------------------------------------------- */

  .tab-section {
    /* "text-brand-on-dark" is a text token, but Figma shows a light background */
    background-color: var(--white-90);
  }

  /* Intro layout: headline + two bodies */

  .tab-section__intro {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .tab-section__headline {
    margin: 0;
    /* Base size ≈ text-h3 (tablet/mobile) */
    font-family: var(--font-poppins);
    font-weight: 500;
    letter-spacing: -0.01em;
    font-size: 1.5rem;
    line-height: 1.25;
  }

  @media (min-width: 1024px) {
    /* Desktop ≈ text-h2 */
    .tab-section__headline {
      font-size: 3rem; /* 48px */
      line-height: 1.2;
    }
  }

  .tab-section__intro-bodies {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    column-gap: var(--space-8); /* 32px on desktop */
    row-gap: 0;
  }

  /* Tablet + mobile: stack with 16px gap, right under left */

  @media (max-width: 1023.98px) {
    .tab-section__intro-bodies {
      grid-template-columns: minmax(0, 1fr);
      row-gap: var(--space-4); /* 16px */
    }
  }

  .tab-section__body-left,
  .tab-section__body-right {
    margin: 0;
  }

  /* Tabs row */

  .tab-section__tabs {
    margin-top: var(--space-8); /* 32px below intro */
  }

  .tab-section__tab-list {
    display: flex;
    gap: var(--space-6);
    border-bottom: 1px solid var(--grey-30);
    overflow-x: auto;
    padding-bottom: 2px;
    white-space: nowrap;
  }

  .tab-section__tab {
    background: transparent;
    border: none;
    border-bottom: 2px solid transparent;
    cursor: pointer;
    white-space: nowrap;
    padding-inline: 0; /* width hugs content */
    padding-block: 16px; /* tablet/mobile */
  }

  @media (min-width: 1024px) {
    .tab-section__tab {
      padding-block: 24px; /* desktop */
    }
  }

  .tab-section__tab--active {
    border-bottom-color: var(--brand-primary);
  }

  /* Panels */

  .tab-section__panels {
    margin-top: var(--space-4); /* 16px below tabs */
  }

  .tab-section__panel {
    background-color: var(--grey-10);
    padding: var(--space-8); /* 32px desktop/tablet */
  }

  @media (max-width: 767.98px) {
    .tab-section__panel {
      padding: var(--space-6); /* 24px on mobile */
    }
  }

  .tab-section__panel-inner {
    display: flex;
    align-items: flex-start;
    gap: var(--space-20); /* 80px desktop */
  }

  /* Tablet: 32px gap */

  @media (max-width: 1023.98px) {
    .tab-section__panel-inner {
      gap: var(--space-8); /* 32px */
    }
  }

  /* Image block */

  .tab-section__panel-media {
    flex: 0 0 auto;
    width: 322px;
    height: 426px;
    overflow: hidden;
    background-color: var(--grey-20);
  }

  .tab-section__panel-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  /* Tablet image size */

  @media (max-width: 1023.98px) and (min-width: 768px) {
    .tab-section__panel-media {
      width: 225px;
      height: 300px;
    }
  }

  /* Mobile: image full width, 100px height, body below */

  @media (max-width: 767.98px) {
    .tab-section__panel-inner {
      flex-direction: column;
    }

    .tab-section__panel-media {
      width: 100%;
      height: 100px;
    }
  }

  /* Body block + scroll behavior */

  /* base: mobile styles via text-body-sm */

  /* Desktop: two visual columns if tall; scroll inside panel */

  @media (min-width: 1024px) {
    .tab-section__panel-body {
      max-height: 432px;
      overflow-y: auto;
      column-count: 2;
      column-gap: var(--space-8); /* 32px between columns */
    }
  }

  /* Tablet: one column, scroll if taller than 300px */

  @media (max-width: 1023.98px) and (min-width: 768px) {
    .tab-section__panel-body {
      max-height: 300px;
      overflow-y: auto;
    }
  }

  /* Mobile: stacked, scroll if taller than 340px */

  @media (max-width: 767.98px) {
    .tab-section__panel-body {
      max-height: 340px;
      overflow-y: auto;
    }
  }

  /* Source area */

  .tab-section__source-text {
    color: var(--grey-60);
  }

  .tab-section__source-text a {
    text-decoration: underline;
    color: inherit;
  }

  /* ------------------------------------------- */
  /* Candidate section                           */
  /* ------------------------------------------- */

  .candidate-section {
    background: linear-gradient(to bottom, var(--green-2), var(--white-90));
  }

  .candidate-section__image-wrap {
    display: flex;
    justify-content: center;
    margin-bottom: var(--space-8);
  }

  .candidate-section__image {
    width: 230px;
    height: 93px;
    object-fit: contain;
    display: block;
  }

  @media (min-width: 768px) {
    .candidate-section__image {
      width: 388px;
      height: 157px;
    }
  }

  @media (min-width: 1024px) {
    .candidate-section__image {
      width: 462px;
      height: 187px;
    }
  }

  .candidate-section__content {
    max-width: 720px;
    margin: 0 auto;
  }

  .candidate-section__headline {
    margin: 0 0 var(--space-4);
  }

  /* Desktop: promote to text-h2 scale */
  @media (min-width: 1024px) {
    .candidate-section__headline {
      font-size: 3rem; /* 48px, same as text-h2 desktop */
      line-height: 1.2;
      color: var(--green-13);
    }
  }

  /* On smaller screens, keep text-h3 scale + green 13 */
  @media (max-width: 1023.98px) {
    .candidate-section__headline {
      color: var(--green-13);
    }
  }

  /* Base typography from text-body-sm */

  @media (min-width: 1024px) {
    /* Desktop: match text-body-md size */
    .candidate-section__body {
      font-size: 1.5rem;
      line-height: 1.5;
    }
  }

  .candidate-section__source {
    margin-top: var(--space-6);
    color: var(--grey-60);
  }

  /* Checklist row */
  /* page-grid handles horizontal padding */

  .candidate-section__checklist-viewport {
    overflow: hidden;
  }

  .candidate-section__checklist-track {
    display: flex;
    gap: var(--space-4);
    will-change: transform;
    transition: transform 0.2s ease-out;
  }

  .checklist-item {
    padding: var(--space-6);
    background-color: var(--green-1);
    color: var(--green-12);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
  }
}
